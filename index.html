<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpha Area Mining - Professional Crypto Mining Platform</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Fredoka+One&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1E3A8A',
                        secondary: '#2563EB',
                        accent: '#059669',
                        dark: '#111827',
                        light: '#F9FAFB',
                        mining: '#F59E0B'
                    },
                    fontFamily: {
                        heading: ['Fredoka One', 'cursive'],
                        body: ['Poppins', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            overflow-x: hidden;
        }
        .gradient-bg { 
            background: linear-gradient(135deg, #1E3A8A, #2563EB, #059669);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
        }
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .card-hover:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 15px 25px rgba(0,0,0,0.1); 
        }
        .pulse { 
            animation: pulse 2s infinite; 
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(5, 150, 105, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(5, 150, 105, 0); }
            100% { box-shadow: 0 0 0 0 rgba(5, 150, 105, 0); }
        }
        .stats-counter {
            font-family: 'Fredoka One', cursive;
        }
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .hero-image {
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
            border: 3px solid white;
        }
        .live-transaction {
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .referral-glow {
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 0 10px #2563EB; }
            to { box-shadow: 0 0 20px #2563EB, 0 0 30px #2563EB; }
        }
        .dark-mode {
            background-color: #1a202c;
            color: #e2e8f0;
        }
        .dark-mode .bg-white {
            background-color: #2d3748;
        }
        .dark-mode .text-dark {
            color: #e2e8f0;
        }
        .dark-mode .bg-light {
            background-color: #4a5568;
        }
        .hero-text-shimmer {
            background: linear-gradient(90deg, #1E3A8A, #2563EB, #059669, #1E3A8A);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
        }
        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        .hero-card-float {
            animation: heroFloat 6s ease-in-out infinite;
        }
        @keyframes heroFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .notification-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 16px;
            border-radius: 8px;
            color: white;
            animation: toastSlideIn 0.5s ease-out;
        }
        @keyframes toastSlideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .chat-bubble {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #2563EB, #059669);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
            z-index: 100;
        }
        .chat-bubble:hover {
            transform: scale(1.1);
        }
        .notification-bell {
            position: relative;
        }
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #EF4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .notification-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 300px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: none;
            z-index: 50;
        }
        .notification-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }
        .notification-item:hover {
            background: #f8f9fa;
        }
        .notification-item:last-child {
            border-bottom: none;
        }
        .hero-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            animation: particleFloat 4s linear infinite;
        }
        @keyframes particleFloat {
            0% { transform: translateY(100vh) scale(0); opacity: 1; }
            100% { transform: translateY(-10px) scale(1); opacity: 0; }
        }
        .mining-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .mining-card:hover {
            border-color: #F59E0B;
        }
        .profit {
            color: #059669;
        }
        .loss {
            color: #EF4444;
        }
        .plan-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .plan-card:hover {
            border-color: #059669;
            transform: scale(1.02);
        }
        .active-plan {
            border-color: #059669;
            box-shadow: 0 0 15px rgba(5, 150, 105, 0.3);
        }
        .ai-bot-active {
            border-left: 4px solid #059669;
        }
        .trade-success {
            background: linear-gradient(45deg, #059669, #10B981);
            color: white;
        }
        .trade-pending {
            background: linear-gradient(45deg, #D97706, #F59E0B);
            color: white;
        }
        .trade-failed {
            background: linear-gradient(45deg, #DC2626, #EF4444);
            color: white;
        }
        .balance-display {
            font-size: 2.5rem;
            font-weight: bold;
        }
        .balance-small {
            font-size: 1rem;
            opacity: 0.8;
        }
        .admin-dot {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 10px;
            height: 10px;
            background: #EF4444;
            border-radius: 50%;
            z-index: 100;
        }
        .back-arrow {
            background: #1E3A8A;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .back-arrow:hover {
            background: #2563EB;
            transform: scale(1.1);
        }
        .signal-bullish {
            background: linear-gradient(45deg, #059669, #10B981);
            color: white;
        }
        .signal-bearish {
            background: linear-gradient(45deg, #DC2626, #EF4444);
            color: white;
        }
        .mining-animation {
            animation: miningPulse 2s infinite;
        }
        @keyframes miningPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .mining-glow {
            animation: miningGlow 2s ease-in-out infinite alternate;
        }
        @keyframes miningGlow {
            from { box-shadow: 0 0 10px #F59E0B; }
            to { box-shadow: 0 0 20px #F59E0B, 0 0 30px #F59E0B; }
        }
    </style>
</head>
<body class="bg-light font-body text-dark min-h-screen overflow-x-hidden">

    <!-- Language Selector -->
    <div class="fixed top-32 right-4 z-50">
        <button id="languageToggle" class="bg-secondary text-white p-3 rounded-full shadow-lg hover:bg-primary transition">
            <i class="fas fa-globe"></i>
        </button>
    </div>

    <!-- Admin Login Dot -->
    <div class="admin-dot" onclick="showAdminLogin()" title="Admin Login"></div>

    <!-- Landing Page (Before Login) -->
    <div id="landingPage" class="min-h-screen flex flex-col relative overflow-hidden">
        <!-- Particle Background -->
        <div id="particles" class="absolute inset-0 pointer-events-none"></div>

        <!-- Professional Navbar -->
        <nav class="bg-white shadow-lg sticky top-0 z-50 dark:bg-gray-800">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <i class="fas fa-digging text-mining text-3xl mr-2"></i>
                        <h1 class="text-2xl font-heading text-primary dark:text-white">Alpha Area Mining</h1>
                    </div>
                    <div class="flex space-x-3">
                        <button onclick="showLogin()" class="bg-primary text-white px-5 py-2 rounded-lg hover:bg-secondary transition font-semibold text-sm">Login</button>
                        <button onclick="showSignup()" class="bg-secondary text-white px-5 py-2 rounded-lg hover:bg-primary transition font-semibold text-sm">Sign Up</button>
                        <a href="https://wa.me/message/Q4BLFPHK2VU7H1" target="_blank" class="bg-green-500 text-white px-5 py-2 rounded-lg font-semibold hover:bg-green-600 transition text-sm flex items-center">
                            <i class="fas fa-headset mr-2"></i> Support
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Professional Hero Section -->
        <section class="gradient-bg flex-1 flex items-center justify-center py-12 px-4 relative">
            <div class="text-center text-white max-w-6xl w-full relative z-10">
                <!-- Professional Mining Images -->
                <div class="flex justify-center items-center mb-8 space-x-4">
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-2xl mining-glow">
                        <i class="fas fa-server text-4xl text-mining mb-4"></i>
                        <p class="font-bold">Mining Rigs</p>
                    </div>
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-2xl mining-glow" style="animation-delay: 0.5s;">
                        <i class="fas fa-microchip text-4xl text-mining mb-4"></i>
                        <p class="font-bold">ASIC Miners</p>
                    </div>
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-6 rounded-2xl mining-glow" style="animation-delay: 1s;">
                        <i class="fas fa-bolt text-4xl text-mining mb-4"></i>
                        <p class="font-bold">High Performance</p>
                    </div>
                </div>

                <h1 class="text-4xl md:text-6xl font-heading mb-6 hero-text-shimmer">Professional Crypto Mining Platform</h1>
                <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto">Join India's fastest growing crypto mining platform. Advanced mining technology, daily returns, and 24/7 support. Start mining crypto like never before!</p>
                
                <!-- Enhanced Live Stats -->
                <div class="grid grid-cols-2 md:grid-cols-5 gap-3 mb-8 max-w-5xl mx-auto">
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-3 rounded-2xl">
                        <i class="fas fa-users text-xl mb-1"></i>
                        <p class="text-xl font-bold stats-counter" id="liveUsers">42,158</p>
                        <p class="text-xs">Active Miners</p>
                    </div>
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-3 rounded-2xl">
                        <i class="fas fa-rupee-sign text-xl mb-1"></i>
                        <p class="text-xl font-bold stats-counter" id="totalDeposit">â‚¹2,45,892</p>
                        <p class="text-xs">Total Deposit</p>
                    </div>
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-3 rounded-2xl">
                        <i class="fas fa-money-bill-wave text-xl mb-1"></i>
                        <p class="text-xl font-bold stats-counter" id="totalWithdrawal">â‚¹1,89,456</p>
                        <p class="text-xs">Total Withdrawal</p>
                    </div>
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-3 rounded-2xl">
                        <i class="fas fa-trophy text-xl mb-1"></i>
                        <p class="text-xl font-bold stats-counter" id="liveWinners">3,247</p>
                        <p class="text-xs">Today's Profits</p>
                    </div>
                    <div class="bg-white bg-opacity-20 backdrop-blur-sm p-3 rounded-2xl">
                        <i class="fas fa-digging text-xl mb-1"></i>
                        <p class="text-xl font-bold stats-counter" id="aiTrades">1,258</p>
                        <p class="text-xs">Active Mining Rigs</p>
                    </div>
                </div>

                <!-- Enhanced Live Transactions -->
                <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-2xl p-3 mb-6 max-w-3xl mx-auto">
                    <div class="flex items-center justify-center mb-2">
                        <i class="fas fa-bolt text-mining mr-2"></i>
                        <p class="font-bold text-sm">Live Mining Activity</p>
                    </div>
                    <div class="space-y-1 text-xs" id="liveTransactions">
                        <!-- Transactions will appear here -->
                    </div>
                </div>

                <button onclick="showSignup()" class="bg-white text-primary px-8 py-3 rounded-lg text-lg font-bold hover:scale-105 transition transform pulse mr-4">
                    <i class="fas fa-play mr-2"></i>Start Mining & Get Bonus!
                </button>
                <button onclick="showLogin()" class="bg-secondary text-white px-8 py-3 rounded-lg text-lg font-bold hover:scale-105 transition transform pulse">
                    <i class="fas fa-sign-in-alt mr-2"></i>Quick Login
                </button>

                <!-- Telegram Community Button -->
                <div class="mt-6">
                    <a href="https://t.me/+_4xwakMXjOdiMTg9" target="_blank" class="bg-blue-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-600 transition inline-flex items-center">
                        <i class="fab fa-telegram mr-2 text-xl"></i>Join Our Telegram Community
                    </a>
                </div>

                <!-- Enhanced Referral Banner -->
                <div class="mt-6 bg-white bg-opacity-20 backdrop-blur-sm rounded-2xl p-4 max-w-lg mx-auto referral-glow">
                    <div class="flex items-center justify-center">
                        <i class="fas fa-gift text-mining text-xl mr-2"></i>
                        <p class="font-bold">ðŸŽ¯ Get 2% Commission on Every Direct Member's Deposit!</p>
                    </div>
                    <p class="text-sm mt-1">Invite friends & earn unlimited rewards! Track earnings in real-time.</p>
                    <div class="mt-2 text-xs opacity-80">Already 300+ users earning daily!</div>
                </div>
            </div>
        </section>

        <!-- Professional Features Section -->
        <section class="py-16 bg-white dark:bg-gray-800">
            <div class="max-w-7xl mx-auto px-4">
                <h2 class="text-4xl font-heading text-center mb-12 text-primary dark:text-white hero-text-shimmer">Why Choose Alpha Area Mining?</h2>
                <div class="grid md:grid-cols-4 gap-6">
                    <div class="text-center p-6 bg-light dark:bg-gray-700 rounded-2xl card-hover">
                        <i class="fas fa-server text-5xl text-mining mb-4 floating"></i>
                        <h3 class="text-2xl font-bold mb-2 dark:text-white">Advanced Mining Rigs</h3>
                        <p class="dark:text-gray-300">State-of-the-art ASIC miners for maximum profitability</p>
                    </div>
                    <div class="text-center p-6 bg-light dark:bg-gray-700 rounded-2xl card-hover">
                        <i class="fas fa-lock text-5xl text-primary mb-4 floating" style="animation-delay: 0.5s;"></i>
                        <h3 class="text-2xl font-bold mb-2 dark:text-white">100% Secure</h3>
                        <p class="dark:text-gray-300">Bank-level encryption and security protocols</p>
                    </div>
                    <div class="text-center p-6 bg-light dark:bg-gray-700 rounded-2xl card-hover">
                        <i class="fas fa-chart-line text-5xl text-accent mb-4 floating" style="animation-delay: 1s;"></i>
                        <h3 class="text-2xl font-bold mb-2 dark:text-white">Daily Returns</h3>
                        <p class="dark:text-gray-300">Earn daily profits with our mining plans</p>
                    </div>
                    <div class="text-center p-6 bg-light dark:bg-gray-700 rounded-2xl card-hover">
                        <i class="fas fa-headset text-5xl text-secondary mb-4 floating" style="animation-delay: 1.5s;"></i>
                        <h3 class="text-2xl font-bold mb-2 dark:text-white">24/7 Support</h3>
                        <p class="dark:text-gray-300">Live chat & WhatsApp assistance anytime</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Policies Section -->
        <section class="py-16 bg-gray-100 dark:bg-gray-900">
            <div class="max-w-7xl mx-auto px-4">
                <h2 class="text-4xl font-heading text-center mb-12 text-primary dark:text-white">Company Policies</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl card-hover">
                        <h3 class="text-xl font-bold mb-3 text-primary dark:text-white">Return Policy</h3>
                        <p class="text-gray-600 dark:text-gray-300">We offer a 7-day return policy on all mining plans. Terms and conditions apply.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl card-hover">
                        <h3 class="text-xl font-bold mb-3 text-primary dark:text-white">Refund Policy</h3>
                        <p class="text-gray-600 dark:text-gray-300">Full refunds available within 24 hours of purchase. Contact support for assistance.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl card-hover">
                        <h3 class="text-xl font-bold mb-3 text-primary dark:text-white">Privacy Policy</h3>
                        <p class="text-gray-600 dark:text-gray-300">We protect your data with industry-standard security measures and encryption.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl card-hover">
                        <h3 class="text-xl font-bold mb-3 text-primary dark:text-white">Disclaimer</h3>
                        <p class="text-gray-600 dark:text-gray-300">Mining involves risk. Past performance doesn't guarantee future results.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Customer Support Bubble -->
    <div class="chat-bubble" onclick="window.open('https://wa.me/message/Q4BLFPHK2VU7H1', '_blank')">
        <i class="fas fa-headset text-white text-xl"></i>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="fixed inset-0 bg-black bg-opacity-70 hidden flex items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 w-full max-w-md transform scale-95 transition">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-heading text-primary dark:text-white">Create Account</h2>
                <button onclick="closeModals()" class="text-2xl dark:text-white">Ã—</button>
            </div>
            <form onsubmit="handleSignup(event)">
                <input type="text" id="signupName" placeholder="Full Name" class="w-full p-4 mb-4 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" required>
                <input type="email" id="signupEmail" placeholder="Email" class="w-full p-4 mb-4 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" required>
                <input type="tel" id="signupPhone" placeholder="Phone (10 digits)" class="w-full p-4 mb-4 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" pattern="[0-9]{10}" required>
                <input type="text" id="signupReferralCode" placeholder="Referral Code (Optional)" class="w-full p-4 mb-4 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white">
                <input type="password" id="signupPass" placeholder="Password" class="w-full p-4 mb-6 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" required>
                <button type="submit" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-4 rounded-xl font-bold text-lg hover:opacity-90 transition">
                    Sign Up Free
                </button>
            </form>
            <!-- Admin Login Option (Small) -->
            <div class="mt-4 text-center">
                <button onclick="showAdminLogin()" class="text-xs text-gray-500 hover:text-primary transition">Admin Login</button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-70 hidden flex items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 w-full max-w-md transform scale-95 transition">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-heading text-primary dark:text-white">Welcome Back!</h2>
                <button onclick="closeModals()" class="text-2xl dark:text-white">Ã—</button>
            </div>
            <form onsubmit="handleLogin(event)">
                <input type="email" id="loginEmail" placeholder="Email" class="w-full p-4 mb-4 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" required>
                <input type="password" id="loginPass" placeholder="Password" class="w-full p-4 mb-6 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" required>
                <button type="submit" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-4 rounded-xl font-bold text-lg hover:opacity-90 transition">
                    Login Now
                </button>
            </form>
            <!-- Admin Login Option (Small) -->
            <div class="mt-4 text-center">
                <button onclick="showAdminLogin()" class="text-xs text-gray-500 hover:text-primary transition">Admin Login</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="fixed inset-0 bg-black bg-opacity-70 hidden flex items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-8 w-full max-w-md transform scale-95 transition">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-heading text-primary dark:text-white">Admin Login</h2>
                <button onclick="closeAdminModal()" class="text-2xl dark:text-white">Ã—</button>
            </div>
            <form onsubmit="handleAdminLogin(event)">
                <input type="email" id="adminEmail" placeholder="Admin Email" class="w-full p-4 mb-4 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" required>
                <input type="password" id="adminPass" placeholder="Password" class="w-full p-4 mb-6 border-2 border-secondary rounded-xl focus:border-primary outline-none dark:bg-gray-700 dark:text-white" required>
                <button type="submit" class="w-full bg-gradient-to-r from-primary to-secondary text-white py-4 rounded-xl font-bold text-lg hover:opacity-90 transition">
                    Admin Login
                </button>
            </form>
        </div>
    </div>

    <!-- Dashboard (After Login) -->
    <div id="dashboard" class="hidden min-h-screen bg-light dark:bg-gray-900">
        <!-- Dashboard Navbar -->
        <nav class="bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <i class="fas fa-digging text-mining text-3xl mr-2"></i>
                        <h1 class="text-2xl font-heading text-primary dark:text-white">Alpha Area Mining</h1>
                    </div>
                    <div class="flex items-center space-x-6">
                        <!-- Daily Login Bonus -->
                        <div class="hidden md:block">
                            <button onclick="claimDailyBonus()" class="bg-yellow-500 text-dark px-4 py-2 rounded-lg font-bold hover:bg-yellow-600 transition">
                                <i class="fas fa-gift mr-1"></i> Daily Bonus
                            </button>
                        </div>
                        <div class="text-right">
                            <p class="font-bold dark:text-white" id="dashUsername">Miner123</p>
                            <p class="text-xs text-gray-600 dark:text-gray-400" id="lastSeen">Last seen: just now</p>
                        </div>
                        <div class="relative">
                            <button onclick="toggleMenu()" class="text-3xl text-dark dark:text-white">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                            <div id="menuDropdown" class="absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-2xl shadow-xl hidden">
                                <a href="#" onclick="showSection('profile')" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 rounded-t-2xl dark:text-white"><i class="fas fa-user mr-2"></i> Profile</a>
                                <a href="#" onclick="showSection('deposit')" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fas fa-wallet mr-2"></i> Deposit</a>
                                <a href="#" onclick="showSection('withdraw')" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fas fa-money-bill-wave mr-2"></i> Withdraw</a>
                                <a href="#" onclick="showSection('history')" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fas fa-history mr-2"></i> History</a>
                                <a href="#" onclick="showSection('referral')" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fas fa-user-plus mr-2"></i> Refer & Earn</a>
                                <a href="#" onclick="showSection('exchange')" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fas fa-exchange-alt mr-2"></i> Exchange Currency</a>
                                <a href="#" onclick="showSection('aiBot')" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fas fa-robot mr-2"></i> AI Bot Trading</a>
                                <a href="https://t.me/+_4xwakMXjOdiMTg9" target="_blank" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fab fa-telegram mr-2"></i> Community</a>
                                <a href="https://wa.me/message/Q4BLFPHK2VU7H1" target="_blank" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 dark:text-white"><i class="fas fa-headset mr-2"></i> Customer Support</a>
                                <a href="#" class="block px-6 py-3 hover:bg-light dark:hover:bg-gray-700 text-red-600 rounded-b-2xl" onclick="logout()"><i class="fas fa-sign-out-alt mr-2"></i> Logout</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Mining Banners -->
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-gradient-to-r from-primary to-secondary rounded-2xl p-4 text-white text-center card-hover">
                    <p class="font-bold text-sm">Crypto Mining</p>
                    <p class="text-xs">Automated Profits</p>
                </div>
                <div class="bg-gradient-to-r from-green-500 to-blue-500 rounded-2xl p-4 text-white text-center card-hover">
                    <p class="font-bold text-sm">Bitcoin</p>
                    <p class="text-xs">BTC Mining</p>
                </div>
                <div class="bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-4 text-white text-center card-hover">
                    <p class="font-bold text-sm">Ethereum</p>
                    <p class="text-xs">ETH Mining</p>
                </div>
                <div class="bg-gradient-to-r from-mining to-red-500 rounded-2xl p-4 text-white text-center card-hover">
                    <p class="font-bold text-sm">USDT</p>
                    <p class="text-xs">Stablecoin Mining</p>
                </div>
            </div>
        </div>

        <!-- User Info Card with Both Balances -->
        <div class="max-w-7xl mx-auto px-4 py-8">
            <div class="bg-gradient-to-r from-primary to-secondary text-white p-6 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-sm opacity-90">Welcome to Alpha Area Mining</p>
                        <p class="text-sm mt-2">Your UID: <span id="userUID" class="font-bold">Loading...</span></p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm opacity-90">Wallet Balance</p>
                        <div class="flex items-baseline justify-end">
                            <p class="balance-display" id="walletBalanceINR">â‚¹0</p>
                            <p class="balance-small ml-2" id="walletBalanceINRDecimal">.00</p>
                        </div>
                        <div class="flex items-baseline justify-end">
                            <p class="balance-display" id="walletBalanceUSDT">$0</p>
                            <p class="balance-small ml-2" id="walletBalanceUSDTDecimal">.00</p>
                        </div>
                        <button onclick="showSection('deposit')" class="mt-2 bg-white text-primary px-6 py-2 rounded-lg text-sm font-bold hover:scale-105 transition">
                            Add Money
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Live Mining Stats (Randomized) -->
        <div class="max-w-7xl mx-auto px-4 py-6">
            <h2 class="text-3xl font-heading text-center mb-6 text-primary dark:text-white">ðŸ“ˆ Live Mining Stats</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="trade-success p-4 rounded-2xl text-white">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">Active Mining Rigs</span>
                        <span class="text-sm">Today</span>
                    </div>
                    <p class="mt-2 text-2xl" id="successfulTradesCount">1,247</p>
                    <p class="text-sm" id="successfulTradesProfit">+â‚¹2,89,456 Profit</p>
                </div>
                <div class="trade-pending p-4 rounded-2xl text-white">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">Active Miners</span>
                        <span class="text-sm">Running</span>
                    </div>
                    <p class="mt-2 text-2xl" id="activeTradesCount">342</p>
                    <p class="text-sm" id="activeTradesProgress">â‚¹1,23,789 in Progress</p>
                </div>
                <div class="trade-failed p-4 rounded-2xl text-white">
                    <div class="flex justify-between items-center">
                        <span class="font-bold">Mining Efficiency</span>
                        <span class="text-sm">This Week</span>
                    </div>
                    <p class="mt-2 text-2xl" id="aiBotAccuracy">87.5%</p>
                    <p class="text-sm" id="aiBotProfitable">142/162 Active</p>
                </div>
            </div>
        </div>

        <!-- Crypto Mining Plans Section -->
        <div id="stakingSection" class="max-w-7xl mx-auto px-4 pb-20">
            <h2 class="text-3xl font-heading text-center mb-8 text-primary dark:text-white">ðŸ’° Crypto Mining Plans</h2>
            <p class="text-center text-gray-600 dark:text-gray-400 mb-8">Earn daily returns with our secure mining plans</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6">
                <!-- Plan 1 -->
                <div class="plan-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg cursor-pointer" onclick="selectPlan(1)">
                    <div class="text-center">
                        <i class="fas fa-digging text-4xl text-mining mb-4"></i>
                        <p class="text-2xl font-bold text-primary dark:text-white">$50 - $99</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Basic Mining</p>
                        <div class="space-y-2 mb-4">
                            <p class="text-lg font-bold text-green-600">0.1% Daily</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Monthly: 3%</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Yearly: 36.5%</p>
                        </div>
                        <button class="w-full bg-primary text-white py-2 rounded-xl font-bold hover:bg-secondary transition">
                            Start Mining
                        </button>
                    </div>
                </div>
                
                <!-- Plan 2 -->
                <div class="plan-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg cursor-pointer" onclick="selectPlan(2)">
                    <div class="text-center">
                        <i class="fas fa-server text-4xl text-mining mb-4"></i>
                        <p class="text-2xl font-bold text-primary dark:text-white">$100 - $499</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Silver Mining</p>
                        <div class="space-y-2 mb-4">
                            <p class="text-lg font-bold text-green-600">0.2% Daily</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Monthly: 6%</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Yearly: 73%</p>
                        </div>
                        <button class="w-full bg-primary text-white py-2 rounded-xl font-bold hover:bg-secondary transition">
                            Start Mining
                        </button>
                    </div>
                </div>
                
                <!-- Plan 3 -->
                <div class="plan-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg cursor-pointer" onclick="selectPlan(3)">
                    <div class="text-center">
                        <i class="fas fa-microchip text-4xl text-mining mb-4"></i>
                        <p class="text-2xl font-bold text-primary dark:text-white">$500 - $999</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Gold Mining</p>
                        <div class="space-y-2 mb-4">
                            <p class="text-lg font-bold text-green-600">0.25% Daily</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Monthly: 7.5%</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Yearly: 91.25%</p>
                        </div>
                        <button class="w-full bg-primary text-white py-2 rounded-xl font-bold hover:bg-secondary transition">
                            Start Mining
                        </button>
                    </div>
                </div>
                
                <!-- Plan 4 -->
                <div class="plan-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg cursor-pointer active-plan" onclick="selectPlan(4)">
                    <div class="text-center">
                        <i class="fas fa-bolt text-4xl text-mining mb-4"></i>
                        <p class="text-2xl font-bold text-primary dark:text-white">$1000 - $4999</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Platinum Mining</p>
                        <div class="space-y-2 mb-4">
                            <p class="text-lg font-bold text-green-600">0.5% Daily</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Monthly: 15%</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Yearly: 182.5%</p>
                        </div>
                        <button class="w-full bg-primary text-white py-2 rounded-xl font-bold hover:bg-secondary transition">
                            Start Mining
                        </button>
                    </div>
                </div>
                
                <!-- Plan 5 -->
                <div class="plan-card bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg cursor-pointer" onclick="selectPlan(5)">
                    <div class="text-center">
                        <i class="fas fa-crown text-4xl text-mining mb-4"></i>
                        <p class="text-2xl font-bold text-primary dark:text-white">$5000+</p>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">VIP Mining</p>
                        <div class="space-y-2 mb-4">
                            <p class="text-lg font-bold text-green-600">1% Daily</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Monthly: 30%</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Yearly: 365%</p>
                        </div>
                        <button class="w-full bg-primary text-white py-2 rounded-xl font-bold hover:bg-secondary transition">
                            Start Mining
                        </button>
                    </div>
                </div>
            </div>

            <!-- Active Mining Investments -->
            <div class="mt-12">
                <h2 class="text-3xl font-heading text-center mb-6 text-primary dark:text-white">ðŸ“Š Your Active Mining</h2>
                <div id="activeInvestments" class="space-y-4">
                    <!-- Active mining will be loaded here -->
                    <p class="text-center text-gray-500 dark:text-gray-400">No active mining yet. Choose a plan to start earning!</p>
                </div>
            </div>
        </div>

        <!-- AI Bot Trading Section -->
        <div id="aiBotSection" class="hidden max-w-6xl mx-auto px-4 py-10">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white">ðŸ¤– AI Bot Trading</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                
                <div class="bg-red-100 dark:bg-red-900 p-6 rounded-2xl text-center">
                    <i class="fas fa-exclamation-triangle text-5xl text-red-500 mb-4"></i>
                    <h3 class="text-2xl font-bold text-red-700 dark:text-red-300 mb-2">AI Trading Currently Unavailable</h3>
                    <p class="text-red-600 dark:text-red-400">Our AI trading feature is temporarily disabled for maintenance. Please check back later.</p>
                </div>
            </div>
        </div>

        <!-- Exchange Currency Section -->
        <div id="exchangeSection" class="hidden max-w-4xl mx-auto px-4 py-10">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white">ðŸ’± Exchange Currency</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-light dark:bg-gray-700 p-6 rounded-2xl">
                        <h3 class="text-xl font-bold text-primary dark:text-white mb-4">INR to USDT</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium dark:text-gray-300 mb-2">Amount in INR</label>
                                <input type="number" id="inrToUsdt" placeholder="Enter INR amount" class="w-full p-4 border-2 border-secondary rounded-xl dark:bg-gray-600 dark:text-white" min="500">
                                <p class="text-xs text-gray-500 mt-1">Minimum: â‚¹500</p>
                            </div>
                            <div class="bg-primary text-white p-4 rounded-xl">
                                <p class="text-sm">You will receive: <span id="usdtReceived" class="font-bold">0.00 USDT</span></p>
                                <p class="text-xs mt-1">Exchange rate: 1 USDT = â‚¹88</p>
                            </div>
                            <button onclick="convertINRtoUSDT()" class="w-full bg-green-500 text-white py-4 rounded-xl font-bold hover:bg-green-600 transition">
                                Convert to USDT
                            </button>
                        </div>
                    </div>
                    
                    <div class="bg-light dark:bg-gray-700 p-6 rounded-2xl">
                        <h3 class="text-xl font-bold text-primary dark:text-white mb-4">USDT to INR</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium dark:text-gray-300 mb-2">Amount in USDT</label>
                                <input type="number" id="usdtToInr" placeholder="Enter USDT amount" class="w-full p-4 border-2 border-secondary rounded-xl dark:bg-gray-600 dark:text-white" min="10">
                                <p class="text-xs text-gray-500 mt-1">Minimum: 10 USDT</p>
                            </div>
                            <div class="bg-primary text-white p-4 rounded-xl">
                                <p class="text-sm">You will receive: <span id="inrReceived" class="font-bold">â‚¹0.00</span></p>
                                <p class="text-xs mt-1">Exchange rate: 1 USDT = â‚¹88</p>
                            </div>
                            <button onclick="convertUSDTtoINR()" class="w-full bg-green-500 text-white py-4 rounded-xl font-bold hover:bg-green-600 transition">
                                Convert to INR
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Your Balances</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-white dark:bg-gray-600 p-4 rounded-xl">
                            <p class="text-lg font-bold text-primary dark:text-white">INR Balance</p>
                            <div class="flex items-baseline">
                                <p class="text-3xl font-bold" id="exchangeINRBalance">â‚¹0</p>
                                <p class="text-lg ml-1 opacity-80" id="exchangeINRDecimal">.00</p>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-600 p-4 rounded-xl">
                            <p class="text-lg font-bold text-primary dark:text-white">USDT Balance</p>
                            <div class="flex items-baseline">
                                <p class="text-3xl font-bold" id="exchangeUSDTBalance">$0</p>
                                <p class="text-lg ml-1 opacity-80" id="exchangeUSDTDecimal">.00</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Section -->
        <div id="profileSection" class="hidden max-w-4xl mx-auto px-4 py-10">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white">Your Profile</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="p-6 bg-light dark:bg-gray-700 rounded-2xl">
                            <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Personal Info</h3>
                            <div class="space-y-3 dark:text-gray-300">
                                <p><strong>Name:</strong> <span id="profileName">-</span></p>
                                <p><strong>Email:</strong> <span id="profileEmail">-</span></p>
                                <p><strong>Phone:</strong> <span id="profilePhone">-</span></p>
                                <p><strong>Username:</strong> <span id="profileUsername">-</span></p>
                                <p><strong>UID:</strong> <span id="profileUID">-</span></p>
                                <p><strong>Joined Date:</strong> <span id="profileJoinDate">-</span></p>
                                <p><strong>Last Seen:</strong> <span id="profileLastSeen">-</span></p>
                            </div>
                            <button onclick="updateProfile()" class="mt-4 bg-primary text-white px-4 py-2 rounded-xl font-bold hover:bg-secondary transition">
                                Update Profile
                            </button>
                        </div>
                        <div class="p-6 bg-light dark:bg-gray-700 rounded-2xl">
                            <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Account Stats</h3>
                            <div class="space-y-3 dark:text-gray-300">
                                <p><strong>INR Balance:</strong> â‚¹<span id="profileBalanceINR">0</span></p>
                                <p><strong>USDT Balance:</strong> $<span id="profileBalanceUSDT">0</span></p>
                                <p><strong>Total Investments:</strong> <span id="profileInvestments">0</span></p>
                                <p><strong>Total Profits:</strong> â‚¹<span id="profileProfits">0</span></p>
                                <p><strong>Total Withdrawals:</strong> â‚¹<span id="profileWithdrawals">0</span></p>
                                <p><strong>Mining Rigs:</strong> <span id="profileAITrades">0</span></p>
                                <p><strong>Referral Earnings:</strong> â‚¹<span id="profileReferralEarnings">0</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Section -->
        <div id="historySection" class="hidden max-w-6xl mx-auto px-4 py-10">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white">Your History</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="p-6 bg-light dark:bg-gray-700 rounded-2xl">
                        <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Recent Transactions</h3>
                        <div id="transactionHistory" class="space-y-3">
                            <p class="text-center text-gray-500 dark:text-gray-400">No transactions yet</p>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="p-6 bg-light dark:bg-gray-700 rounded-2xl">
                            <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Investment History</h3>
                            <div id="investmentHistory" class="space-y-3">
                                <p class="text-center text-gray-500 dark:text-gray-400">No investments yet</p>
                            </div>
                        </div>
                        <div class="p-6 bg-light dark:bg-gray-700 rounded-2xl">
                            <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Withdrawal History</h3>
                            <div id="withdrawalHistory" class="space-y-3">
                                <p class="text-center text-gray-500 dark:text-gray-400">No withdrawals yet</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Referral Section -->
        <div id="referralSection" class="hidden max-w-4xl mx-auto px-4 py-10">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white">Refer & Earn</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-gradient-to-br from-primary to-secondary text-white p-6 rounded-2xl">
                        <h3 class="text-xl font-bold mb-4">ðŸŽ¯ Your Referral Stats</h3>
                        <div class="space-y-3">
                            <p><strong>Referral Code:</strong> <span id="referralCode" class="bg-white bg-opacity-20 px-2 py-1 rounded">Loading...</span></p>
                            <p><strong>Total Referrals:</strong> <span id="totalReferrals">0</span></p>
                            <p><strong>Referral Earnings:</strong> â‚¹<span id="referralEarnings">0</span></p>
                        </div>
                    </div>
                    
                    <div class="bg-light dark:bg-gray-700 p-6 rounded-2xl">
                        <h3 class="text-xl font-bold text-primary dark:text-white mb-4">ðŸ’° How it Works</h3>
                        <div class="space-y-3 text-sm dark:text-gray-300">
                            <p>âœ… <strong>2% Commission</strong> on every direct member's deposit</p>
                            <p>âœ… Share your unique referral code</p>
                            <p>âœ… Earn when your friends deposit money</p>
                            <p>âœ… Withdraw referral earnings anytime</p>
                        </div>
                    </div>
                </div>

                <div class="bg-yellow-50 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded-2xl p-6 mb-6">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">ðŸ“¤ Your Referral Code</h3>
                    <div class="text-center mb-4">
                        <div class="bg-white dark:bg-gray-800 p-4 rounded-xl border-2 border-primary inline-block">
                            <p class="text-3xl font-bold text-primary dark:text-white" id="referralCodeDisplay">Loading...</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">Share this code with friends</p>
                        </div>
                    </div>
                    <div class="text-center">
                        <button onclick="copyReferralCode()" class="bg-primary text-white px-6 py-3 rounded-xl font-bold hover:bg-secondary transition">
                            <i class="fas fa-copy mr-2"></i>Copy Referral Code
                        </button>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 text-center mt-3">Share this code with friends! When they sign up using your code, you get 2% commission on their deposits!</p>
                </div>

                <div class="bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">ðŸ‘¥ Your Referrals & Commission History</h3>
                    <div id="referralList" class="space-y-3">
                        <p class="text-center text-gray-500 dark:text-gray-400">No referrals yet. Share your code to start earning!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- DEPOSIT SECTION -->
        <div id="depositSection" class="hidden max-w-4xl mx-auto px-4 py-10">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white text-center">Deposit Money</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                
                <!-- Currency Selection -->
                <div class="mb-6">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Select Currency</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <button id="depositINRBtn" class="bg-primary text-white py-4 rounded-xl font-bold text-lg hover:bg-secondary transition" onclick="showDepositMethod('INR')">
                            Deposit INR
                        </button>
                        <button id="depositUSDTBtn" class="bg-gray-300 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-400 transition" onclick="showDepositMethod('USDT')">
                            Deposit USDT
                        </button>
                    </div>
                </div>
                
                <!-- INR Deposit -->
                <div id="inrDeposit" class="bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">INR Deposit</h3>
                    
                    <!-- Amount Selection -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-primary dark:text-white mb-3">Select Amount</h4>
                        <div class="grid grid-cols-3 gap-3 mb-4">
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="500">â‚¹500</button>
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="1000">â‚¹1000</button>
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="2000">â‚¹2000</button>
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="3000">â‚¹3000</button>
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="5000">â‚¹5000</button>
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="10000">â‚¹10000</button>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="20000">â‚¹20000</button>
                            <button class="deposit-amount-btn bg-gray-200 dark:bg-gray-600 py-3 rounded-lg font-bold hover:bg-primary hover:text-white transition" data-amount="50000">â‚¹50000</button>
                        </div>
                    </div>
                    
                    <input type="number" id="depositAmountINR" placeholder="Or Enter Custom Amount (min â‚¹500)" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white" min="500">
                    
                    <div class="mb-4 p-4 bg-yellow-50 dark:bg-yellow-900 rounded-xl border border-yellow-200 dark:border-yellow-700">
                        <p class="text-center font-bold text-lg dark:text-white">Send payment to: <span class="text-primary" id="currentUPI">millnerkaptan01@fam</span></p>
                        <p class="text-center text-sm mt-2 dark:text-gray-300">After payment, submit UTR for verification</p>
                        <div class="flex justify-center space-x-2 mt-3">
                            <button onclick="copyUPI()" class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-600 transition">
                                <i class="fas fa-copy mr-1"></i>Copy UPI
                            </button>
                        </div>
                    </div>
                    
                    <input type="text" id="depositUTR" placeholder="Enter UTR Number" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white">
                    
                    <button onclick="submitINRDeposit()" class="w-full bg-green-500 text-white py-4 rounded-xl font-bold text-lg hover:opacity-90 transition">
                        Submit Deposit Request
                    </button>
                </div>
                
                <!-- USDT Deposit -->
                <div id="usdtDeposit" class="bg-light dark:bg-gray-700 p-6 rounded-2xl hidden">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">USDT Deposit</h3>
                    <div class="mb-4 p-4 bg-blue-50 dark:bg-blue-900 rounded-xl border border-blue-200 dark:border-blue-700">
                        <p class="text-center font-bold text-lg dark:text-white">Send USDT to:</p>
                        <p class="text-center text-sm mt-2 dark:text-gray-300 font-mono">BSC BNB Smart Chain (Bep 20)</p>
                        <p class="text-center text-sm mt-1 dark:text-gray-300 font-mono">0x8e57d705f1b58ceda77c91df6ac80aac5c2a83df</p>
                        <p class="text-center text-sm mt-2">OR</p>
                        <p class="text-center text-sm mt-1 dark:text-gray-300 font-mono">TRC 20: TN9DDuzXnXirgAAS4mRe8VFQ6VxuVUQmJc</p>
                        <p class="text-center text-xs mt-2 dark:text-gray-300 text-red-500">Minimum 10 USDT, otherwise deposit not received</p>
                        <div class="flex justify-center space-x-2 mt-3">
                            <button onclick="copyUSDTAddress('bsc')" class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-600 transition">
                                <i class="fas fa-copy mr-1"></i>Copy BSC
                            </button>
                            <button onclick="copyUSDTAddress('trc')" class="bg-purple-500 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-600 transition">
                                <i class="fas fa-copy mr-1"></i>Copy TRC
                            </button>
                        </div>
                    </div>
                    <input type="number" id="depositAmountUSDT" placeholder="Enter Amount (min 10 USDT)" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white" min="10">
                    <button onclick="submitUSDTDeposit()" class="w-full bg-purple-500 text-white py-4 rounded-xl font-bold text-lg hover:opacity-90 transition">
                        Submit Deposit Request
                    </button>
                </div>
                
                <!-- Balance Display -->
                <div class="mt-6 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Your Balances</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-white dark:bg-gray-600 p-4 rounded-xl">
                            <p class="text-lg font-bold text-primary dark:text-white">INR Balance</p>
                            <div class="flex items-baseline">
                                <p class="text-3xl font-bold" id="depositINRBalance">â‚¹0</p>
                                <p class="text-lg ml-1 opacity-80" id="depositINRDecimal">.00</p>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-600 p-4 rounded-xl">
                            <p class="text-lg font-bold text-primary dark:text-white">USDT Balance</p>
                            <div class="flex items-baseline">
                                <p class="text-3xl font-bold" id="depositUSDTBalance">$0</p>
                                <p class="text-lg ml-1 opacity-80" id="depositUSDTDecimal">.00</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- WITHDRAW SECTION -->
        <div id="withdrawSection" class="hidden max-w-4xl mx-auto px-4 py-10">
            <div class="bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white text-center">Withdraw Money</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                
                <!-- Currency Selection -->
                <div class="mb-6">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Select Currency</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <button id="withdrawINRBtn" class="bg-primary text-white py-4 rounded-xl font-bold text-lg hover:bg-secondary transition" onclick="showWithdrawMethod('INR')">
                            Withdraw INR
                        </button>
                        <button id="withdrawUSDTBtn" class="bg-gray-300 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-400 transition" onclick="showWithdrawMethod('USDT')">
                            Withdraw USDT
                        </button>
                    </div>
                </div>
                
                <!-- INR Withdrawal -->
                <div id="inrWithdraw" class="bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">INR Withdrawal</h3>
                    <input type="number" id="withdrawAmountINR" placeholder="Enter Amount (min â‚¹100)" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white" min="100">
                    
                    <!-- Bank Details Form -->
                    <div id="bankDetailsForm">
                        <input type="text" id="bankName" placeholder="Bank Name" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white">
                        <input type="text" id="accHolderName" placeholder="Account Holder Name" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white">
                        <input type="text" id="accNumber" placeholder="Account Number" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white">
                        <input type="text" id="ifsc" placeholder="IFSC Code" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white">
                        <button onclick="saveBankDetails()" class="w-full bg-blue-500 text-white py-4 rounded-xl font-bold hover:opacity-90 transition mb-4">
                            Save Bank Details
                        </button>
                    </div>
                    
                    <!-- Saved Bank Details -->
                    <div id="savedBankDetails" class="hidden bg-green-50 dark:bg-green-900 p-4 rounded-xl border border-green-200 dark:border-green-700 mb-4">
                        <p class="text-green-700 dark:text-green-300 font-bold">Bank Details Saved</p>
                        <p class="text-sm text-green-600 dark:text-green-400" id="savedBankInfo"></p>
                    </div>
                    
                    <button onclick="submitINRWithdraw()" class="w-full bg-red-500 text-white py-4 rounded-xl font-bold hover:opacity-90 transition">
                        Submit Withdrawal Request
                    </button>
                </div>
                
                <!-- USDT Withdrawal -->
                <div id="usdtWithdraw" class="bg-light dark:bg-gray-700 p-6 rounded-2xl hidden">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">USDT Withdrawal</h3>
                    <input type="number" id="withdrawAmountUSDT" placeholder="Enter Amount (min 10 USDT)" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white" min="10">
                    <input type="text" id="usdtAddress" placeholder="USDT Address" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white">
                    <select id="usdtNetwork" class="w-full p-4 border-2 border-secondary rounded-xl mb-4 dark:bg-gray-600 dark:text-white">
                        <option value="bsc">BSC (BEP-20)</option>
                        <option value="trc">TRC-20</option>
                        <option value="erc">ERC-20</option>
                    </select>
                    <button onclick="submitUSDTWithdraw()" class="w-full bg-purple-500 text-white py-4 rounded-xl font-bold hover:opacity-90 transition">
                        Submit Withdrawal Request
                    </button>
                </div>
                
                <!-- Balance Display -->
                <div class="mt-6 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-primary dark:text-white mb-4">Your Balances</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-white dark:bg-gray-600 p-4 rounded-xl">
                            <p class="text-lg font-bold text-primary dark:text-white">INR Balance</p>
                            <div class="flex items-baseline">
                                <p class="text-3xl font-bold" id="withdrawINRBalance">â‚¹0</p>
                                <p class="text-lg ml-1 opacity-80" id="withdrawINRDecimal">.00</p>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-600 p-4 rounded-xl">
                            <p class="text-lg font-bold text-primary dark:text-white">USDT Balance</p>
                            <div class="flex items-baseline">
                                <p class="text-3xl font-bold" id="withdrawUSDTBalance">$0</p>
                                <p class="text-lg ml-1 opacity-80" id="withdrawUSDTDecimal">.00</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminSection" class="hidden max-w-6xl mx-auto px-4 py-16">
            <div class="bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-heading text-primary dark:text-white text-center">Admin Panel</h2>
                    <div class="back-arrow" onclick="showSection('staking')">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                </div>
                <div class="mb-6 p-4 bg-light dark:bg-gray-700 rounded-xl text-center">
                    <p class="text-xl font-bold dark:text-white">Total Registered Users: <span id="totalUsers">0</span></p>
                </div>
                
                <!-- Deposit Requests -->
                <div class="mb-6 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold mb-4 dark:text-white">Deposit Requests</h3>
                    <div id="adminDepositRequests" class="space-y-4">
                        <!-- Deposit requests will appear here -->
                    </div>
                </div>
                
                <!-- Withdrawal Requests -->
                <div class="mb-6 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold mb-4 dark:text-white">Withdrawal Requests</h3>
                    <div id="adminWithdrawalRequests" class="space-y-4">
                        <!-- Withdrawal requests will appear here -->
                    </div>
                </div>
                
                <!-- User Stats Update Section -->
                <div class="mb-6 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold mb-4 dark:text-white">Update User Stats</h3>
                    <div class="grid md:grid-cols-4 gap-4 mb-4">
                        <input type="email" id="adminUserEmailStats" placeholder="User Email" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="number" id="adminUserWinnings" placeholder="Total Winnings" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="number" id="adminUserWithdrawals" placeholder="Total Withdrawals" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <button onclick="updateUserStats()" class="bg-purple-500 text-white px-4 py-3 rounded-xl font-bold hover:bg-purple-600 transition">
                            Update Stats
                        </button>
                    </div>
                </div>

                <!-- Referral Stats Update Section -->
                <div class="mb-6 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold mb-4 dark:text-white">Update Referral Stats</h3>
                    <div class="grid md:grid-cols-4 gap-4 mb-4">
                        <input type="email" id="adminUserEmailReferral" placeholder="User Email" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="number" id="adminUserReferrals" placeholder="Total Referrals" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="number" id="adminUserReferralEarnings" placeholder="Referral Earnings" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <button onclick="updateReferralStats()" class="bg-blue-500 text-white px-4 py-3 rounded-xl font-bold hover:bg-blue-600 transition">
                            Update Referral
                        </button>
                    </div>
                </div>

                <!-- Manual Referral Commission Add/Deduct Section -->
                <div class="mb-6 bg-light dark:bg-gray-700 p-6 rounded-2xl">
                    <h3 class="text-xl font-bold mb-4 dark:text-white">Manual Referral Commission</h3>
                    <div class="grid md:grid-cols-4 gap-4 mb-4">
                        <input type="email" id="adminReferralUserEmail" placeholder="User Email" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="number" id="adminReferralAmount" placeholder="Amount (Positive=Add, Negative=Deduct)" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="text" id="adminReferralReason" placeholder="Reason (e.g., Manual Add)" class="p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <button onclick="manualReferralCommission()" class="bg-green-500 text-white px-4 py-3 rounded-xl font-bold hover:bg-green-600 transition">
                            Apply Commission
                        </button>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-4 dark:text-white">Add Funds to User</h3>
                    <div class="flex gap-4 mb-4">
                        <input type="email" id="adminUserEmail" placeholder="User Email" class="flex-1 p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="number" id="adminFundAmount" placeholder="Amount" class="w-32 p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <button onclick="addFundToUser()" class="bg-green-500 text-white px-6 py-3 rounded-xl font-bold">Add Funds</button>
                    </div>
                </div>
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-4 dark:text-white">Deduct Funds from User</h3>
                    <div class="flex gap-4 mb-4">
                        <input type="email" id="adminUserEmailDeduct" placeholder="User Email" class="flex-1 p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <input type="number" id="adminDeductAmount" placeholder="Amount" class="w-32 p-3 border rounded-xl dark:bg-gray-600 dark:text-white">
                        <button onclick="deductFundFromUser()" class="bg-red-500 text-white px-6 py-3 rounded-xl font-bold">Deduct Funds</button>
                    </div>
                </div>
                
                <div id="adminUserList" class="space-y-4 max-h-96 overflow-y-auto"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Alpha Area Mining</h3>
                    <p class="text-gray-400">Professional crypto mining platform with advanced technology for maximum profitability.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition">Home</a></li>
                        <li><a href="#" class="hover:text-white transition">About Us</a></li>
                        <li><a href="#" class="hover:text-white transition">Contact</a></li>
                        <li><a href="#" class="hover:text-white transition">Privacy Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Policies</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition">Return Policy</a></li>
                        <li><a href="#" class="hover:text-white transition">Refund Policy</a></li>
                        <li><a href="#" class="hover:text-white transition">Disclaimer</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Contact Us</h3>
                    <div class="space-y-2 text-gray-400">
                        <p><i class="fas fa-envelope mr-2"></i> support@alphaareamining.com</p>
                        <p><i class="fab fa-whatsapp mr-2"></i> +91 XXXXX XXXXX</p>
                        <div class="flex space-x-4 mt-4">
                            <a href="https://wa.me/message/Q4BLFPHK2VU7H1" target="_blank" class="text-green-400 hover:text-green-300">
                                <i class="fab fa-whatsapp text-xl"></i>
                            </a>
                            <a href="https://t.me/+_4xwakMXjOdiMTg9" target="_blank" class="text-blue-400 hover:text-blue-300">
                                <i class="fab fa-telegram text-xl"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>Â© 2025 Alpha Area Mining. All rights reserved.</p>
                <p class="text-sm mt-2">Mine responsibly. 18+ only.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Cloud Database Configuration
        const JSONBIN_API_KEY = '$2a$10$e50.WfbjPMQ1HVr7CWQzVO673PQR9xTlX5OueFLvimwSsT5qVbUgG';
        const JSONBIN_BIN_ID = '6909b47fae596e708f43562d';
        
        let currentUser = null;
        let users = [];
        let isAdmin = false;
        let isDarkMode = false;
        let currentLanguage = 'english';
        let activeMining = [];
        let miningIntervals = {};
        let exchangeRate = 88; // 1 USDT = 88 INR

        // Live Stats Data - Enhanced with Mining Transactions
        const transactions = [
            "Mohan withdrew $77",
            "Raj deposited â‚¹5000",
            "Priya earned â‚¹1200 from mining",
            "Amit invested in Platinum mining",
            "Sneha received â‚¹250 referral bonus",
            "Vikash claimed daily bonus â‚¹5",
            "Neha's mining rig made â‚¹1800 profit",
            "Rohan started mining with â‚¹10000",
            "Pooja withdrew â‚¹4500",
            "Karan's mining yielded â‚¹3200 profit",
            "Sonia deposited â‚¹7500",
            "Arjun received â‚¹150 mining returns",
            "Meera referred friend +â‚¹100",
            "Vikram's mining efficiency 92%",
            "Priyanka invested in Gold mining"
        ];

        // Multi-language support
        const translations = {
            english: {
                welcome: "Welcome back,",
                walletBalance: "Wallet Balance",
                playNow: "Start Mining & Get Bonus!",
                joinTelegram: "Join Our Telegram Community",
                referralBonus: "Get 2% Commission on Every Direct Member's Deposit!"
            },
            hindi: {
                welcome: "à¤µà¤¾à¤ªà¤¸à¥€ à¤ªà¤° à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ,",
                walletBalance: "à¤µà¥‰à¤²à¥‡à¤Ÿ à¤¬à¥ˆà¤²à¥‡à¤‚à¤¸",
                playNow: "à¤…à¤­à¥€ à¤®à¤¾à¤‡à¤¨à¤¿à¤‚à¤— à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤¬à¥‹à¤¨à¤¸ à¤ªà¤¾à¤à¤‚!",
                joinTelegram: "à¤¹à¤®à¤¾à¤°à¥‡ à¤Ÿà¥‡à¤²à¥€à¤—à¥à¤°à¤¾à¤® à¤¸à¤®à¥à¤¦à¤¾à¤¯ à¤®à¥‡à¤‚ à¤¶à¤¾à¤®à¤¿à¤² à¤¹à¥‹à¤‚",
                referralBonus: "à¤¹à¤° à¤¸à¥€à¤§à¥‡ à¤¸à¤¦à¤¸à¥à¤¯ à¤•à¥‡ à¤¡à¤¿à¤ªà¥‰à¤œà¤¿à¤Ÿ à¤ªà¤° 2% à¤•à¤®à¥€à¤¶à¤¨ à¤ªà¤¾à¤à¤‚!"
            }
        };

        // Initialize Live Stats - Enhanced
        function initializeLiveStats() {
            // Update main stats every 3 seconds
            setInterval(() => {
                document.getElementById('liveUsers').textContent = 
                    (Math.floor(Math.random() * 20000) + 30000).toLocaleString();
                document.getElementById('totalDeposit').textContent = 
                    'â‚¹' + (Math.floor(Math.random() * 50000) + 200000).toLocaleString();
                document.getElementById('totalWithdrawal').textContent = 
                    'â‚¹' + (Math.floor(Math.random() * 40000) + 150000).toLocaleString();
                document.getElementById('liveWinners').textContent = 
                    (Math.floor(Math.random() * 1000) + 2500).toLocaleString();
                document.getElementById('aiTrades').textContent = 
                    (Math.floor(Math.random() * 500) + 1000).toLocaleString();
            }, 3000);

            // Update live transactions every 5 seconds
            setInterval(updateLiveTransactions, 5000);
            updateLiveTransactions();
            
            // Update mining stats every 30 seconds
            setInterval(updateMiningStats, 30000);
            updateMiningStats();
        }

        function updateLiveTransactions() {
            const container = document.getElementById('liveTransactions');
            const shuffled = [...transactions].sort(() => 0.5 - Math.random()).slice(0, 5);
            
            container.innerHTML = shuffled.map(transaction => 
                `<div class="flex items-center justify-between py-1 border-b border-white border-opacity-20 live-transaction">
                    <span class="text-xs">${transaction}</span>
                    <span class="text-mining font-bold text-xs">Just now</span>
                </div>`
            ).join('');
        }

        // Update Mining Stats Randomly
        function updateMiningStats() {
            // Successful Mining
            const successfulCount = Math.floor(Math.random() * 500) + 1000;
            const successfulProfit = Math.floor(Math.random() * 200000) + 150000;
            document.getElementById('successfulTradesCount').textContent = successfulCount.toLocaleString();
            document.getElementById('successfulTradesProfit').textContent = `+â‚¹${successfulProfit.toLocaleString()} Profit`;
            
            // Active Mining
            const activeCount = Math.floor(Math.random() * 200) + 200;
            const activeProgress = Math.floor(Math.random() * 100000) + 80000;
            document.getElementById('activeTradesCount').textContent = activeCount.toLocaleString();
            document.getElementById('activeTradesProgress').textContent = `â‚¹${activeProgress.toLocaleString()} in Progress`;
            
            // Mining Efficiency
            const efficiency = (Math.random() * 15 + 80).toFixed(1);
            const profitable = Math.floor(Math.random() * 50) + 130;
            const total = Math.floor(profitable / (efficiency / 100));
            document.getElementById('aiBotAccuracy').textContent = `${efficiency}%`;
            document.getElementById('aiBotProfitable').textContent = `${profitable}/${Math.round(total)} Active`;
        }

        // New Feature: Particle Animation for Hero
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'hero-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 4 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Language Toggle
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'english' ? 'hindi' : 'english';
            updateLanguage();
            localStorage.setItem('language', currentLanguage);
        }

        function updateLanguage() {
            const trans = translations[currentLanguage];
            // Update key elements
            if (document.querySelector('#welcomeUser ~ p')) document.querySelector('#welcomeUser ~ p').textContent = trans.welcome;
            // More updates as needed
        }

        // UPI Functions
        function copyUPI() {
            const upi = document.getElementById('currentUPI').textContent;
            navigator.clipboard.writeText(upi).then(() => {
                alert('UPI copied to clipboard!');
            });
        }

        // USDT Address Functions
        function copyUSDTAddress(network) {
            let address = '';
            if (network === 'bsc') {
                address = '0x8e57d705f1b58ceda77c91df6ac80aac5c2a83df';
            } else if (network === 'trc') {
                address = 'TN9DDuzXnXirgAAS4mRe8VFQ6VxuVUQmJc';
            }
            navigator.clipboard.writeText(address).then(() => {
                alert(`${network.toUpperCase()} address copied to clipboard!`);
            });
        }

        // Update Balance Display with Decimals
        function updateBalanceDisplay() {
            if (currentUser) {
                // INR Balance
                const inrBalance = currentUser.balanceINR || 0;
                const inrParts = inrBalance.toFixed(2).split('.');
                document.getElementById('walletBalanceINR').textContent = `â‚¹${inrParts[0]}`;
                document.getElementById('walletBalanceINRDecimal').textContent = `.${inrParts[1]}`;
                
                // USDT Balance
                const usdtBalance = currentUser.balanceUSDT || 0;
                const usdtParts = usdtBalance.toFixed(2).split('.');
                document.getElementById('walletBalanceUSDT').textContent = `$${usdtParts[0]}`;
                document.getElementById('walletBalanceUSDTDecimal').textContent = `.${usdtParts[1]}`;
                
                // Update all other balance displays
                updateAllBalanceDisplays();
            }
        }

        // Update all balance displays across sections
        function updateAllBalanceDisplays() {
            if (currentUser) {
                const inrBalance = currentUser.balanceINR || 0;
                const usdtBalance = currentUser.balanceUSDT || 0;
                
                const inrParts = inrBalance.toFixed(2).split('.');
                const usdtParts = usdtBalance.toFixed(2).split('.');
                
                // Exchange Section
                document.getElementById('exchangeINRBalance').textContent = `â‚¹${inrParts[0]}`;
                document.getElementById('exchangeINRDecimal').textContent = `.${inrParts[1]}`;
                document.getElementById('exchangeUSDTBalance').textContent = `$${usdtParts[0]}`;
                document.getElementById('exchangeUSDTDecimal').textContent = `.${usdtParts[1]}`;
                
                // Deposit Section
                document.getElementById('depositINRBalance').textContent = `â‚¹${inrParts[0]}`;
                document.getElementById('depositINRDecimal').textContent = `.${inrParts[1]}`;
                document.getElementById('depositUSDTBalance').textContent = `$${usdtParts[0]}`;
                document.getElementById('depositUSDTDecimal').textContent = `.${usdtParts[1]}`;
                
                // Withdraw Section
                document.getElementById('withdrawINRBalance').textContent = `â‚¹${inrParts[0]}`;
                document.getElementById('withdrawINRDecimal').textContent = `.${inrParts[1]}`;
                document.getElementById('withdrawUSDTBalance').textContent = `$${usdtParts[0]}`;
                document.getElementById('withdrawUSDTDecimal').textContent = `.${usdtParts[1]}`;
                
                // Profile Section
                document.getElementById('profileBalanceINR').textContent = inrBalance.toFixed(2);
                document.getElementById('profileBalanceUSDT').textContent = usdtBalance.toFixed(2);
            }
        }

        // Mining Plan Functions
        function selectPlan(planId) {
            // Remove active class from all plans
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('active-plan');
            });
            
            // Add active class to selected plan
            event.currentTarget.classList.add('active-plan');
            
            // Show investment modal or proceed directly
            const planAmounts = {
                1: {min: 50, max: 99},
                2: {min: 100, max: 499},
                3: {min: 500, max: 999},
                4: {min: 1000, max: 4999},
                5: {min: 5000, max: 1000000}
            };
            
            const plan = planAmounts[planId];
            const amount = prompt(`Enter investment amount in USDT ($${plan.min} - $${plan.max}):`);
            
            if (amount && !isNaN(amount) && amount >= plan.min && amount <= plan.max) {
                startMining(planId, parseFloat(amount));
            } else if (amount) {
                alert(`Please enter a valid amount between $${plan.min} and $${plan.max}`);
            }
        }

        function startMining(planId, amount) {
            if (!currentUser) {
                showLogin();
                return;
            }
            
            if ((currentUser.balanceUSDT || 0) < amount) {
                alert('Insufficient USDT balance! Please deposit first.');
                showSection('deposit');
                return;
            }
            
            // Deduct amount from USDT balance
            currentUser.balanceUSDT = (currentUser.balanceUSDT || 0) - amount;
            
            // Add to user's mining
            if (!currentUser.mining) currentUser.mining = [];
            const mining = {
                id: Date.now(),
                planId: planId,
                amount: amount,
                currency: 'USDT',
                date: new Date().toLocaleString(),
                dailyReturn: calculateDailyReturn(planId, amount),
                perSecondReturn: calculatePerSecondReturn(planId, amount),
                totalReturns: 0,
                pendingReturns: 0,
                active: true
            };
            
            currentUser.mining.push(mining);
            
            // Add transaction record
            if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
            currentUser.transactionHistory.unshift({
                type: 'Mining Investment',
                amount: amount,
                currency: 'USDT',
                date: new Date().toLocaleString(),
                note: `Plan ${planId} mining`
            });
            
            // Start mining interval for this investment
            startMiningInterval(mining.id);
            
            updateBalanceDisplay();
            saveUsersToCloud();
            
            alert(`Successfully started mining with $${amount} in plan ${planId}! Mining returns will be added every second.`);
            loadActiveMining();
        }

        function calculateDailyReturn(planId, amount) {
            const rates = {
                1: 0.001, // 0.1%
                2: 0.002, // 0.2%
                3: 0.0025, // 0.25%
                4: 0.005, // 0.5%
                5: 0.01 // 1%
            };
            
            return amount * rates[planId];
        }

        function calculatePerSecondReturn(planId, amount) {
            const dailyReturn = calculateDailyReturn(planId, amount);
            return dailyReturn / (24 * 60 * 60); // Divide by seconds in a day
        }

        function startMiningInterval(miningId) {
            // Add mining returns every second
            miningIntervals[miningId] = setInterval(() => {
                if (currentUser && currentUser.mining) {
                    const mining = currentUser.mining.find(m => m.id === miningId);
                    if (mining && mining.active) {
                        const perSecondReturn = mining.perSecondReturn;
                        mining.pendingReturns += perSecondReturn;
                        mining.totalReturns += perSecondReturn;
                        
                        // Update UI if on mining page
                        if (document.getElementById('activeInvestments').innerHTML.includes(`mining-${miningId}`)) {
                            loadActiveMining();
                        }
                    }
                }
            }, 1000); // 1 second
        }

        function getMiningReturns(miningId) {
            if (currentUser && currentUser.mining) {
                const mining = currentUser.mining.find(m => m.id === miningId);
                if (mining) {
                    return mining.pendingReturns;
                }
            }
            return 0;
        }

        function claimMiningReturns(miningId) {
            if (currentUser && currentUser.mining) {
                const mining = currentUser.mining.find(m => m.id === miningId);
                if (mining && mining.pendingReturns > 0) {
                    const returns = mining.pendingReturns;
                    currentUser.balanceUSDT = (currentUser.balanceUSDT || 0) + returns;
                    mining.pendingReturns = 0;
                    
                    // Add transaction record
                    if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
                    currentUser.transactionHistory.unshift({
                        type: 'Mining Returns',
                        amount: returns,
                        currency: 'USDT',
                        date: new Date().toLocaleString(),
                        note: `Mining returns from investment #${miningId}`
                    });
                    
                    updateBalanceDisplay();
                    saveUsersToCloud();
                    loadActiveMining();
                    
                    alert(`Successfully claimed $${returns.toFixed(6)} mining returns!`);
                } else {
                    alert('No pending mining returns to claim.');
                }
            }
        }

        function loadActiveMining() {
            const container = document.getElementById('activeInvestments');
            if (currentUser && currentUser.mining && currentUser.mining.length > 0) {
                const activeMining = currentUser.mining.filter(m => m.active);
                
                if (activeMining.length > 0) {
                    container.innerHTML = activeMining.map(m => {
                        const planNames = {
                            1: 'Basic Mining (0.1% daily)',
                            2: 'Silver Mining (0.2% daily)',
                            3: 'Gold Mining (0.25% daily)',
                            4: 'Platinum Mining (0.5% daily)',
                            5: 'VIP Mining (1% daily)'
                        };
                        
                        const pendingReturns = m.pendingReturns || 0;
                        
                        return `
                            <div class="p-4 bg-white dark:bg-gray-700 rounded-2xl border border-mining" id="mining-${m.id}">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="font-bold dark:text-white">${planNames[m.planId]}</p>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Invested: $${m.amount} | Started: ${m.date}</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-mining font-bold">+$${m.perSecondReturn.toFixed(8)}/sec</p>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Pending: $${pendingReturns.toFixed(6)}</p>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Total: $${m.totalReturns.toFixed(6)}</p>
                                    </div>
                                </div>
                                <div class="mt-3 flex justify-end">
                                    <button onclick="claimMiningReturns(${m.id})" class="bg-mining text-white px-4 py-2 rounded-lg font-bold hover:bg-yellow-600 transition">
                                        <i class="fas fa-coins mr-1"></i> Get Returns
                                    </button>
                                </div>
                            </div>
                        `;
                    }).join('');
                } else {
                    container.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400">No active mining yet. Choose a plan to start earning!</p>';
                }
            } else {
                container.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400">No active mining yet. Choose a plan to start earning!</p>';
            }
        }

        // Exchange Currency Functions
        function convertINRtoUSDT() {
            const inrAmount = parseFloat(document.getElementById('inrToUsdt').value);
            if (!inrAmount || inrAmount < 500) {
                alert('Please enter a valid INR amount (min â‚¹500)');
                return;
            }
            
            if ((currentUser.balanceINR || 0) < inrAmount) {
                alert('Insufficient INR balance!');
                return;
            }
            
            const usdtAmount = inrAmount / exchangeRate;
            
            // Update balances
            currentUser.balanceINR = (currentUser.balanceINR || 0) - inrAmount;
            currentUser.balanceUSDT = (currentUser.balanceUSDT || 0) + usdtAmount;
            
            // Add transaction record
            if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
            currentUser.transactionHistory.unshift({
                type: 'Currency Exchange',
                amount: inrAmount,
                currency: 'INR',
                date: new Date().toLocaleString(),
                note: `Converted to $${usdtAmount.toFixed(2)} USDT`
            });
            
            updateBalanceDisplay();
            saveUsersToCloud();
            
            alert(`Successfully converted â‚¹${inrAmount} to $${usdtAmount.toFixed(2)} USDT!`);
            document.getElementById('inrToUsdt').value = '';
            document.getElementById('usdtReceived').textContent = `${usdtAmount.toFixed(2)} USDT`;
        }

        function convertUSDTtoINR() {
            const usdtAmount = parseFloat(document.getElementById('usdtToInr').value);
            if (!usdtAmount || usdtAmount < 10) {
                alert('Please enter a valid USDT amount (min 10 USDT)');
                return;
            }
            
            if ((currentUser.balanceUSDT || 0) < usdtAmount) {
                alert('Insufficient USDT balance!');
                return;
            }
            
            const inrAmount = usdtAmount * exchangeRate;
            
            // Update balances
            currentUser.balanceUSDT = (currentUser.balanceUSDT || 0) - usdtAmount;
            currentUser.balanceINR = (currentUser.balanceINR || 0) + inrAmount;
            
            // Add transaction record
            if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
            currentUser.transactionHistory.unshift({
                type: 'Currency Exchange',
                amount: usdtAmount,
                currency: 'USDT',
                date: new Date().toLocaleString(),
                note: `Converted to â‚¹${inrAmount.toFixed(2)} INR`
            });
            
            updateBalanceDisplay();
            saveUsersToCloud();
            
            alert(`Successfully converted $${usdtAmount} USDT to â‚¹${inrAmount.toFixed(2)}!`);
            document.getElementById('usdtToInr').value = '';
            document.getElementById('inrReceived').textContent = `â‚¹${inrAmount.toFixed(2)}`;
        }

        // Deposit/Withdraw Method Selection
        function showDepositMethod(currency) {
            if (currency === 'INR') {
                document.getElementById('inrDeposit').classList.remove('hidden');
                document.getElementById('usdtDeposit').classList.add('hidden');
                document.getElementById('depositINRBtn').classList.add('bg-primary', 'text-white');
                document.getElementById('depositINRBtn').classList.remove('bg-gray-300', 'text-gray-700');
                document.getElementById('depositUSDTBtn').classList.add('bg-gray-300', 'text-gray-700');
                document.getElementById('depositUSDTBtn').classList.remove('bg-primary', 'text-white');
            } else {
                document.getElementById('inrDeposit').classList.add('hidden');
                document.getElementById('usdtDeposit').classList.remove('hidden');
                document.getElementById('depositINRBtn').classList.add('bg-gray-300', 'text-gray-700');
                document.getElementById('depositINRBtn').classList.remove('bg-primary', 'text-white');
                document.getElementById('depositUSDTBtn').classList.add('bg-primary', 'text-white');
                document.getElementById('depositUSDTBtn').classList.remove('bg-gray-300', 'text-gray-700');
            }
        }

        function showWithdrawMethod(currency) {
            if (currency === 'INR') {
                document.getElementById('inrWithdraw').classList.remove('hidden');
                document.getElementById('usdtWithdraw').classList.add('hidden');
                document.getElementById('withdrawINRBtn').classList.add('bg-primary', 'text-white');
                document.getElementById('withdrawINRBtn').classList.remove('bg-gray-300', 'text-gray-700');
                document.getElementById('withdrawUSDTBtn').classList.add('bg-gray-300', 'text-gray-700');
                document.getElementById('withdrawUSDTBtn').classList.remove('bg-primary', 'text-white');
                
                // Check if user has saved bank details
                if (currentUser && currentUser.bankDetails) {
                    document.getElementById('bankDetailsForm').classList.add('hidden');
                    document.getElementById('savedBankDetails').classList.remove('hidden');
                    document.getElementById('savedBankInfo').textContent = 
                        `${currentUser.bankDetails.bankName} - ${currentUser.bankDetails.accNumber}`;
                } else {
                    document.getElementById('bankDetailsForm').classList.remove('hidden');
                    document.getElementById('savedBankDetails').classList.add('hidden');
                }
            } else {
                document.getElementById('inrWithdraw').classList.add('hidden');
                document.getElementById('usdtWithdraw').classList.remove('hidden');
                document.getElementById('withdrawINRBtn').classList.add('bg-gray-300', 'text-gray-700');
                document.getElementById('withdrawINRBtn').classList.remove('bg-primary', 'text-white');
                document.getElementById('withdrawUSDTBtn').classList.add('bg-primary', 'text-white');
                document.getElementById('withdrawUSDTBtn').classList.remove('bg-gray-300', 'text-gray-700');
            }
        }

        // Deposit amount selection
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners for deposit amount buttons
            document.querySelectorAll('.deposit-amount-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const amount = this.getAttribute('data-amount');
                    document.getElementById('depositAmountINR').value = amount;
                    
                    // Highlight selected button
                    document.querySelectorAll('.deposit-amount-btn').forEach(btn => {
                        btn.classList.remove('bg-primary', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-600');
                    });
                    this.classList.add('bg-primary', 'text-white');
                    this.classList.remove('bg-gray-200', 'dark:bg-gray-600');
                });
            });
        });

        // Save Bank Details
        function saveBankDetails() {
            const bankName = document.getElementById('bankName').value;
            const accHolderName = document.getElementById('accHolderName').value;
            const accNumber = document.getElementById('accNumber').value;
            const ifsc = document.getElementById('ifsc').value;
            
            if (!bankName || !accHolderName || !accNumber || !ifsc) {
                alert('Please fill all bank details');
                return;
            }
            
            if (!currentUser) return;
            
            currentUser.bankDetails = {
                bankName: bankName,
                accHolderName: accHolderName,
                accNumber: accNumber,
                ifsc: ifsc,
                savedAt: new Date().toLocaleString()
            };
            
            saveUsersToCloud();
            
            document.getElementById('bankDetailsForm').classList.add('hidden');
            document.getElementById('savedBankDetails').classList.remove('hidden');
            document.getElementById('savedBankInfo').textContent = 
                `${bankName} - ${accNumber}`;
                
            alert('Bank details saved successfully!');
        }

        // Submit INR Deposit
        function submitINRDeposit() {
            const amount = document.getElementById('depositAmountINR').value;
            const utr = document.getElementById('depositUTR').value;
            
            if (!amount || amount < 500) {
                alert('Please enter a valid amount (min â‚¹500)');
                return;
            }
            
            if (!utr) {
                alert('Please enter UTR number');
                return;
            }
            
            if (!currentUser) return;
            
            // Create deposit request
            if (!currentUser.depositRequests) currentUser.depositRequests = [];
            const depositRequest = {
                id: Date.now(),
                amount: parseFloat(amount),
                currency: 'INR',
                utr: utr,
                date: new Date().toLocaleString(),
                status: 'pending'
            };
            
            currentUser.depositRequests.push(depositRequest);
            
            // Add to transaction history
            if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
            currentUser.transactionHistory.unshift({
                type: 'Deposit Request',
                amount: parseFloat(amount),
                currency: 'INR',
                date: new Date().toLocaleString(),
                note: 'Pending approval'
            });
            
            saveUsersToCloud();
            
            alert('Deposit request submitted successfully! It will be processed after admin approval.');
            
            // Clear form
            document.getElementById('depositAmountINR').value = '';
            document.getElementById('depositUTR').value = '';
            document.querySelectorAll('.deposit-amount-btn').forEach(btn => {
                btn.classList.remove('bg-primary', 'text-white');
                btn.classList.add('bg-gray-200', 'dark:bg-gray-600');
            });
        }

        // Submit USDT Deposit
        function submitUSDTDeposit() {
            const amount = document.getElementById('depositAmountUSDT').value;
            
            if (!amount || amount < 10) {
                alert('Please enter a valid amount (min 10 USDT)');
                return;
            }
            
            if (!currentUser) return;
            
            // Create deposit request
            if (!currentUser.depositRequests) currentUser.depositRequests = [];
            const depositRequest = {
                id: Date.now(),
                amount: parseFloat(amount),
                currency: 'USDT',
                date: new Date().toLocaleString(),
                status: 'pending'
            };
            
            currentUser.depositRequests.push(depositRequest);
            
            // Add to transaction history
            if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
            currentUser.transactionHistory.unshift({
                type: 'Deposit Request',
                amount: parseFloat(amount),
                currency: 'USDT',
                date: new Date().toLocaleString(),
                note: 'Pending approval'
            });
            
            saveUsersToCloud();
            
            alert('Deposit request submitted successfully! It will be processed after admin approval.');
            
            // Clear form
            document.getElementById('depositAmountUSDT').value = '';
        }

        // Submit INR Withdrawal
        function submitINRWithdraw() {
            const amount = document.getElementById('withdrawAmountINR').value;
            
            if (!amount || amount < 100) {
                alert('Minimum â‚¹100');
                return;
            }
            
            if ((currentUser.balanceINR || 0) < amount) {
                alert('Insufficient INR balance');
                return;
            }
            
            if (!currentUser.bankDetails) {
                alert('Please save your bank details first');
                return;
            }
            
            if (!currentUser) return;
            
            // Create withdrawal request
            if (!currentUser.withdrawalRequests) currentUser.withdrawalRequests = [];
            const withdrawalRequest = {
                id: Date.now(),
                amount: parseFloat(amount),
                currency: 'INR',
                bankDetails: currentUser.bankDetails,
                date: new Date().toLocaleString(),
                status: 'pending'
            };
            
            currentUser.withdrawalRequests.push(withdrawalRequest);
            
            // Add to transaction history
            if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
            currentUser.transactionHistory.unshift({
                type: 'Withdrawal Request',
                amount: parseFloat(amount),
                currency: 'INR',
                date: new Date().toLocaleString(),
                note: 'Pending approval'
            });
            
            saveUsersToCloud();
            
            alert('Withdrawal request submitted successfully! It will be processed after admin approval.');
            
            // Clear form
            document.getElementById('withdrawAmountINR').value = '';
        }

        // Submit USDT Withdrawal
        function submitUSDTWithdraw() {
            const amount = document.getElementById('withdrawAmountUSDT').value;
            const usdtAddress = document.getElementById('usdtAddress').value;
            const usdtNetwork = document.getElementById('usdtNetwork').value;
            
            if (!amount || amount < 10) {
                alert('Minimum 10 USDT');
                return;
            }
            
            if ((currentUser.balanceUSDT || 0) < amount) {
                alert('Insufficient USDT balance');
                return;
            }
            
            if (!usdtAddress) {
                alert('Enter USDT address');
                return;
            }
            
            if (!currentUser) return;
            
            // Create withdrawal request
            if (!currentUser.withdrawalRequests) currentUser.withdrawalRequests = [];
            const withdrawalRequest = {
                id: Date.now(),
                amount: parseFloat(amount),
                currency: 'USDT',
                usdtAddress: usdtAddress,
                usdtNetwork: usdtNetwork,
                date: new Date().toLocaleString(),
                status: 'pending'
            };
            
            currentUser.withdrawalRequests.push(withdrawalRequest);
            
            // Add to transaction history
            if (!currentUser.transactionHistory) currentUser.transactionHistory = [];
            currentUser.transactionHistory.unshift({
                type: 'Withdrawal Request',
                amount: parseFloat(amount),
                currency: 'USDT',
                date: new Date().toLocaleString(),
                note: 'Pending approval'
            });
            
            saveUsersToCloud();
            
            alert('Withdrawal request submitted successfully! It will be processed after admin approval.');
            
            // Clear form
            document.getElementById('withdrawAmountUSDT').value = '';
            document.getElementById('usdtAddress').value = '';
        }

        // FIXED REFERRAL SYSTEM - Only Code, No Link
        function generateReferralCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = '';
            for (let i = 0; i < 6; i++) {
                code += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return code;
        }

        function loadReferralSection() {
            if (!currentUser) return;
            
            // Generate referral code if not exists
            if (!currentUser.referralCode) {
                currentUser.referralCode = generateReferralCode();
                saveUsersToCloud();
            }

            // Update referral UI - Only code, no link
            document.getElementById('referralCode').textContent = currentUser.referralCode;
            document.getElementById('referralCodeDisplay').textContent = currentUser.referralCode;
            
            // Referral stats
            const referrals = users.filter(u => u.referredBy === currentUser.referralCode);
            const referralEarnings = currentUser.referralEarnings || 0;

            document.getElementById('totalReferrals').textContent = referrals.length;
            document.getElementById('referralEarnings').textContent = referralEarnings;

            // Group commissions
            let referralTotals = {};
            let commissionByUser = {};

            (currentUser.commissionHistory || []).forEach(comm => {
                if (!referralTotals[comm.from]) referralTotals[comm.from] = 0;
                referralTotals[comm.from] += comm.amount;

                if (!commissionByUser[comm.from]) commissionByUser[comm.from] = [];
                commissionByUser[comm.from].push(comm);
            });

            // Update referral list with commission details
            const referralList = document.getElementById('referralList');
            if (referrals.length > 0) {
                referralList.innerHTML = referrals.map(ref => {
                    const totalCommission = referralTotals[ref.username] || 0;
                    const userHistory = commissionByUser[ref.username] || [];
                    return `
                        <div class="p-4 bg-white dark:bg-gray-600 rounded-lg border">
                            <div class="flex justify-between items-center mb-2">
                                <div>
                                    <p class="font-bold dark:text-white">${ref.username}</p>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Joined: ${ref.joinDate}</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-green-600 font-bold">+â‚¹${totalCommission}</p>
                                    <p class="text-xs text-gray-600 dark:text-gray-400">Total Commission</p>
                                </div>
                            </div>
                            ${userHistory.length > 0 ? `
                                <div class="mt-2 pt-2 border-t border-gray-300 dark:border-gray-500">
                                    <p class="text-sm font-bold text-primary dark:text-white">Commission History:</p>
                                    ${userHistory.map(comm => `
                                        <p class="text-xs text-gray-600 dark:text-gray-400">â‚¹${comm.amount} from ${comm.type} - ${comm.date}</p>
                                    `).join('')}
                                </div>
                            ` : ''}
                        </div>
                    `;
                }).join('');
            } else {
                referralList.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400">No referrals yet. Share your code to start earning!</p>';
            }
        }

        function copyReferralCode() {
            const code = document.getElementById('referralCodeDisplay').textContent;
            navigator.clipboard.writeText(code);
            alert('Referral code copied! Share this code with your friends.');
        }

        // Check for referral parameter in URL
        function checkReferral() {
            const urlParams = new URLSearchParams(window.location.search);
            const refCode = urlParams.get('ref');
            if (refCode) {
                localStorage.setItem('referralCode', refCode);
            }
        }

        // Your existing functions remain exactly the same
        function showSignup() { document.getElementById('signupModal').classList.remove('hidden'); }
        function showLogin() { document.getElementById('loginModal').classList.remove('hidden'); }
        function closeModals() { document.getElementById('signupModal').classList.add('hidden'); document.getElementById('loginModal').classList.add('hidden'); }
        function showAdminLogin() { document.getElementById('adminLoginModal').classList.remove('hidden'); }
        function closeAdminModal() { document.getElementById('adminLoginModal').classList.add('hidden'); }

        function handleAdminLogin(e) {
            e.preventDefault();
            const email = document.getElementById('adminEmail').value.trim().toLowerCase();
            const pass = document.getElementById('adminPass').value;
            if (email === 'admin@example.com' && pass === 'admin123') {
                isAdmin = true;
                localStorage.setItem('adminLoggedIn', 'true');
                closeAdminModal();
                showSection('admin');
                updateTotalUsers();
                loadAdminUsers();
                loadAdminRequests();
                alert('Admin login successful!');
            } else {
                alert('Invalid admin credentials');
            }
        }

        // Generate unique UID for each user
        function generateUID() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let uid = 'AAM';
            for (let i = 0; i < 7; i++) {
                uid += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return uid;
        }

        async function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value.trim();
            const email = document.getElementById('signupEmail').value.trim().toLowerCase();
            const phone = document.getElementById('signupPhone').value;
            const pass = document.getElementById('signupPass').value;
            const referralCodeInput = document.getElementById('signupReferralCode').value.trim().toUpperCase();

            if (users.find(u => u.email === email)) return alert('Email already exists!');

            // Check for referral from URL or input field
            let referredBy = null;
            const urlReferralCode = localStorage.getItem('referralCode');
            
            if (urlReferralCode) {
                referredBy = urlReferralCode;
                localStorage.removeItem('referralCode');
            } else if (referralCodeInput) {
                referredBy = referralCodeInput;
            }

            const user = { 
                name, 
                email, 
                phone, 
                pass, 
                username: email.split('@')[0], 
                uid: generateUID(),
                joinDate: new Date().toLocaleDateString('en-GB'), 
                balanceINR: referredBy ? 5 : 0, // â‚¹5 bonus for referred users
                balanceUSDT: 0,
                lastSeen: 'just now', 
                withdrawals: [],
                registeredAt: new Date().toISOString(),
                referredBy: referredBy,
                referralCode: null,
                referralEarnings: 0,
                totalReferrals: 0,
                totalDeposits: 0,
                totalWinnings: 0,
                totalWithdrawals: 0,
                commissionHistory: [],
                transactionHistory: [],
                mining: [],
                depositRequests: [],
                withdrawalRequests: []
            };
            users.push(user);
            
            // Add referral bonus to referrer
            if (referredBy) {
                const referrer = users.find(u => u.referralCode === referredBy);
                if (referrer) {
                    referrer.totalReferrals = (referrer.totalReferrals || 0) + 1;
                }
            }
            
            await saveUsersToCloud();
            localStorage.setItem('currentUser', JSON.stringify(user));
            loginSuccess(user);
        }

        // Auto commission on deposits
        function addReferralCommission(depositingUser, amount, currency) {
            if (depositingUser.referredBy) {
                const referrer = users.find(u => u.referralCode === depositingUser.referredBy);
                if (referrer) {
                    const commission = amount * 0.02; // 2% commission
                    referrer.referralEarnings = (referrer.referralEarnings || 0) + commission;
                    
                    if (currency === 'INR') {
                        referrer.balanceINR = (referrer.balanceINR || 0) + commission;
                    } else {
                        referrer.balanceUSDT = (referrer.balanceUSDT || 0) + commission;
                    }
                    
                    // Add to commission history
                    if (!referrer.commissionHistory) referrer.commissionHistory = [];
                    referrer.commissionHistory.push({
                        amount: commission,
                        date: new Date().toLocaleString(),
                        from: depositingUser.username,
                        type: 'Deposit Commission'
                    });
                    
                    // Add transaction record
                    if (!referrer.transactionHistory) referrer.transactionHistory = [];
                    referrer.transactionHistory.unshift({
                        type: 'Referral Commission',
                        amount: commission,
                        currency: currency,
                        date: new Date().toLocaleString(),
                        from: depositingUser.username
                    });
                    
                    saveUsersToCloud();
                    console.log(`â‚¹${commission} referral commission added to ${referrer.username}`);
                }
            }
        }

        // Admin: Manual Referral Commission
        function manualReferralCommission() {
            const email = document.getElementById('adminReferralUserEmail').value.trim().toLowerCase();
            const amountStr = document.getElementById('adminReferralAmount').value;
            const reason = document.getElementById('adminReferralReason').value.trim();
            const amount = parseFloat(amountStr);

            if (!email || isNaN(amount) || !reason) return alert('Enter email, amount, and reason');

            const user = users.find(u => u.email.toLowerCase() === email);
            if (!user) return alert('User not found!');

            const prevEarnings = user.referralEarnings || 0;
            user.referralEarnings = prevEarnings + amount;
            user.balanceINR = (user.balanceINR || 0) + amount;

            // Add to commission history
            if (!user.commissionHistory) user.commissionHistory = [];
            user.commissionHistory.push({
                amount: amount,
                date: new Date().toLocaleString(),
                from: 'Admin',
                type: reason
            });

            // Add transaction
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Manual Referral Commission',
                amount: amount,
                currency: 'INR',
                date: new Date().toLocaleString(),
                from: reason
            });

            saveUsersToCloud();
            alert(`Manual commission applied: â‚¹${amount} to ${user.username}. New earnings: â‚¹${user.referralEarnings}`);
            document.getElementById('adminReferralUserEmail').value = '';
            document.getElementById('adminReferralAmount').value = '';
            document.getElementById('adminReferralReason').value = '';
        }

        // Admin function to update user stats
        async function updateUserStats() {
            const email = document.getElementById('adminUserEmailStats').value.trim().toLowerCase();
            const winnings = parseFloat(document.getElementById('adminUserWinnings').value) || 0;
            const withdrawals = parseFloat(document.getElementById('adminUserWithdrawals').value) || 0;

            if (!email) return alert('Enter user email');

            const user = users.find(u => u.email.toLowerCase() === email);
            if (!user) return alert('User not found!');

            user.totalWinnings = winnings;
            user.totalWithdrawals = withdrawals;

            // Add to transaction history if changed
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Admin Stats Update',
                amount: 0,
                date: new Date().toLocaleString(),
                note: `Winnings: â‚¹${winnings}, Withdrawals: â‚¹${withdrawals}`
            });

            await saveUsersToCloud();
            alert(`Stats updated for ${user.username}\nWinnings: â‚¹${winnings}\nWithdrawals: â‚¹${withdrawals}`);
            
            // Clear fields
            document.getElementById('adminUserEmailStats').value = '';
            document.getElementById('adminUserWinnings').value = '';
            document.getElementById('adminUserWithdrawals').value = '';
        }

        // Admin function to update referral stats
        async function updateReferralStats() {
            const email = document.getElementById('adminUserEmailReferral').value.trim().toLowerCase();
            const referrals = parseInt(document.getElementById('adminUserReferrals').value) || 0;
            const referralEarnings = parseFloat(document.getElementById('adminUserReferralEarnings').value) || 0;

            if (!email) return alert('Enter user email');

            const user = users.find(u => u.email.toLowerCase() === email);
            if (!user) return alert('User not found!');

            user.totalReferrals = referrals;
            user.referralEarnings = referralEarnings;

            // Add to transaction history
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Admin Referral Update',
                amount: 0,
                date: new Date().toLocaleString(),
                note: `Referrals: ${referrals}, Earnings: â‚¹${referralEarnings}`
            });

            await saveUsersToCloud();
            alert(`Referral stats updated for ${user.username}\nTotal Referrals: ${referrals}\nReferral Earnings: â‚¹${referralEarnings}`);
            
            // Clear fields
            document.getElementById('adminUserEmailReferral').value = '';
            document.getElementById('adminUserReferrals').value = '';
            document.getElementById('adminUserReferralEarnings').value = '';
        }

        async function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value.trim().toLowerCase();
            const pass = document.getElementById('loginPass').value;

            const user = users.find(u => u.email === email && u.pass === pass);
            if (user) {
                user.lastSeen = 'just now';
                localStorage.setItem('currentUser', JSON.stringify(user));
                loginSuccess(user);
            } else {
                alert('Invalid email or password');
            }
        }

        function loginSuccess(user) {
            currentUser = user;
            closeModals();
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('dashUsername').textContent = user.username;
            document.getElementById('userUID').textContent = user.uid;
            updateBalanceDisplay(); // Ensure balance updates on login/refresh
            updateLastSeen();
            loadActiveMining();
        }

        // Initialize cloud database
        async function initializeDatabase() {
            try {
                console.log('Loading data from cloud...');
                const response = await fetch(`https://api.jsonbin.io/v3/b/${JSONBIN_BIN_ID}/latest`, {
                    headers: {
                        'X-Master-Key': JSONBIN_API_KEY
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    users = data.record.users || [];
                    console.log('Cloud data loaded successfully:', users.length + ' users');
                } else {
                    console.log('Cloud load failed, using localStorage');
                    users = JSON.parse(localStorage.getItem('alphaAreaUsers') || '[]');
                }
            } catch (error) {
                console.log('Cloud database not available, using localStorage');
                users = JSON.parse(localStorage.getItem('alphaAreaUsers') || '[]');
            }
        }

        // Save users to cloud database
        async function saveUsersToCloud() {
            try {
                const response = await fetch(`https://api.jsonbin.io/v3/b/${JSONBIN_BIN_ID}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Master-Key': JSONBIN_API_KEY
                    },
                    body: JSON.stringify({ 
                        users: users
                    })
                });
                
                if (response.ok) {
                    console.log('Data saved to cloud successfully');
                    return true;
                } else {
                    throw new Error('Cloud save failed');
                }
            } catch (error) {
                console.log('Cloud save failed, using localStorage');
                localStorage.setItem('alphaAreaUsers', JSON.stringify(users));
                return false;
            }
        }

        function updateLastSeen() {
            setInterval(() => {
                if (currentUser) document.getElementById('lastSeen').textContent = 'Last seen: just now';
            }, 30000);
        }

        function toggleMenu() { document.getElementById('menuDropdown').classList.toggle('hidden'); }

        function showSection(section) {
            document.querySelectorAll('#dashboard > div').forEach(div => div.classList.add('hidden'));
            document.getElementById(section + 'Section').classList.remove('hidden');
            
            if (section === 'admin' && isAdmin) { 
                updateTotalUsers(); 
                loadAdminUsers(); 
                loadAdminRequests();
            }
            if (section === 'profile') {
                loadProfileData();
            }
            if (section === 'history') {
                loadHistoryData();
            }
            if (section === 'referral') {
                loadReferralSection();
            }
            if (section === 'staking') {
                loadActiveMining();
            }
            if (section === 'exchange') {
                // Update exchange calculations
                document.getElementById('inrToUsdt').addEventListener('input', function() {
                    const inrAmount = parseFloat(this.value) || 0;
                    const usdtAmount = inrAmount / exchangeRate;
                    document.getElementById('usdtReceived').textContent = `${usdtAmount.toFixed(2)} USDT`;
                });
                
                document.getElementById('usdtToInr').addEventListener('input', function() {
                    const usdtAmount = parseFloat(this.value) || 0;
                    const inrAmount = usdtAmount * exchangeRate;
                    document.getElementById('inrReceived').textContent = `â‚¹${inrAmount.toFixed(2)}`;
                });
            }
            if (section === 'deposit') {
                showDepositMethod('INR'); // Default to INR
            }
            if (section === 'withdraw') {
                showWithdrawMethod('INR'); // Default to INR
            }
            toggleMenu();
        }

        // Load Profile Data
        function loadProfileData() {
            if (currentUser) {
                document.getElementById('profileName').textContent = currentUser.name;
                document.getElementById('profileEmail').textContent = currentUser.email;
                document.getElementById('profilePhone').textContent = currentUser.phone;
                document.getElementById('profileUsername').textContent = currentUser.username;
                document.getElementById('profileUID').textContent = currentUser.uid;
                document.getElementById('profileJoinDate').textContent = currentUser.joinDate;
                document.getElementById('profileLastSeen').textContent = currentUser.lastSeen;
                document.getElementById('profileBalanceINR').textContent = (currentUser.balanceINR || 0).toFixed(2);
                document.getElementById('profileBalanceUSDT').textContent = (currentUser.balanceUSDT || 0).toFixed(2);
                document.getElementById('profileInvestments').textContent = currentUser.mining ? currentUser.mining.length : 0;
                document.getElementById('profileProfits').textContent = currentUser.totalWinnings || 0;
                document.getElementById('profileWithdrawals').textContent = currentUser.totalWithdrawals || 0;
                document.getElementById('profileAITrades').textContent = currentUser.mining && currentUser.mining.length > 0 ? currentUser.mining.length : 0;
                document.getElementById('profileReferralEarnings').textContent = currentUser.referralEarnings || 0;
            }
        }

        function updateProfile() {
            alert('Profile update feature would be implemented in a real application');
        }

        // Load History Data
        function loadHistoryData() {
            const transactionHistory = document.getElementById('transactionHistory');
            const investmentHistory = document.getElementById('investmentHistory');
            const withdrawalHistory = document.getElementById('withdrawalHistory');
            
            if (currentUser) {
                // Transaction History
                if (currentUser.transactionHistory && currentUser.transactionHistory.length > 0) {
                    transactionHistory.innerHTML = currentUser.transactionHistory.slice(0, 10).map(transaction => 
                        `<div class="p-3 bg-white dark:bg-gray-600 rounded-lg border">
                            <p class="dark:text-white"><strong>${transaction.type}</strong> - ${transaction.currency === 'INR' ? 'â‚¹' : '$'}${transaction.amount || 0}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${transaction.date}</p>
                            ${transaction.note ? `<p class="text-xs text-gray-500">${transaction.note}</p>` : ''}
                        </div>`
                    ).join('');
                } else {
                    transactionHistory.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400">No transactions yet</p>';
                }

                // Investment History
                if (currentUser.mining && currentUser.mining.length > 0) {
                    investmentHistory.innerHTML = currentUser.mining.map(mining => {
                        const planNames = {
                            1: 'Basic Mining',
                            2: 'Silver Mining',
                            3: 'Gold Mining',
                            4: 'Platinum Mining',
                            5: 'VIP Mining'
                        };
                        
                        return `
                            <div class="p-3 bg-white dark:bg-gray-600 rounded-lg border">
                                <p class="dark:text-white"><strong>${planNames[mining.planId]}</strong> - $${mining.amount}</p>
                                <p class="text-sm text-gray-600 dark:text-gray-400">${mining.date}</p>
                                <p class="text-sm ${mining.active ? 'text-green-600' : 'text-gray-600'}">${mining.active ? 'Active' : 'Completed'}</p>
                                ${mining.totalReturns > 0 ? `<p class="text-sm text-green-600">Returns: $${mining.totalReturns.toFixed(6)}</p>` : ''}
                            </div>
                        `;
                    }).join('');
                } else {
                    investmentHistory.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400">No mining yet</p>';
                }

                // Withdrawal History
                if (currentUser.withdrawals && currentUser.withdrawals.length > 0) {
                    withdrawalHistory.innerHTML = currentUser.withdrawals.map(withdrawal => 
                        `<div class="p-3 bg-white dark:bg-gray-600 rounded-lg border">
                            <p class="dark:text-white"><strong>Withdrawal:</strong> ${withdrawal.currency === 'INR' ? 'â‚¹' : '$'}${withdrawal.amount}</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${withdrawal.date} - ${withdrawal.status || 'Pending'}</p>
                        </div>`
                    ).join('');
                } else {
                    withdrawalHistory.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400">No withdrawals yet</p>';
                }
            }
        }

        // Daily Login Bonus
        function claimDailyBonus() {
            if (!currentUser) return;

            const today = new Date().toDateString();
            const lastBonusDate = localStorage.getItem(`lastBonus_${currentUser.email}`);

            if (lastBonusDate === today) {
                alert('You have already claimed your daily bonus today!');
                return;
            }

            const bonusAmount = Math.floor(Math.random() * 5) + 1; // â‚¹1 to â‚¹5
            currentUser.balanceINR = (currentUser.balanceINR || 0) + bonusAmount;
            updateBalanceDisplay();

            localStorage.setItem(`lastBonus_${currentUser.email}`, today);
            alert(`ðŸŽ‰ Daily bonus claimed! You received â‚¹${bonusAmount}`);
            saveUsersToCloud();
        }

        // Admin Panel Functions
        function updateTotalUsers() {
            document.getElementById('totalUsers').textContent = users.length;
        }

        function loadAdminUsers() {
            const container = document.getElementById('adminUserList');
            container.innerHTML = '';
            
            if (users.length === 0) {
                container.innerHTML = '<p class="text-center p-4 dark:text-white">No users registered yet</p>';
                return;
            }
            
            users.forEach(user => {
                const div = document.createElement('div');
                div.className = 'p-4 border rounded-xl bg-gray-50 dark:bg-gray-700';
                div.innerHTML = `
                    <p class="dark:text-white"><strong>${user.username}</strong> (${user.email})</p>
                    <p class="dark:text-gray-300">Phone: ${user.phone} | UID: ${user.uid}</p>
                    <p class="dark:text-gray-300">INR: â‚¹${user.balanceINR || 0} | USDT: $${user.balanceUSDT || 0}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Joined: ${user.joinDate}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Winnings: â‚¹${user.totalWinnings || 0} | Withdrawals: â‚¹${user.totalWithdrawals || 0}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Referrals: ${user.totalReferrals || 0} | Ref Earnings: â‚¹${user.referralEarnings || 0}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Mining Rigs: ${user.mining ? user.mining.length : 0}</p>
                    <div class="flex gap-2 mt-2">
                        <input type="number" placeholder="Amount" class="p-2 border rounded w-24 dark:bg-gray-600 dark:text-white" min="1">
                        <button onclick="addFund('${user.email}', this.previousElementSibling.value)" class="bg-green-500 text-white px-3 py-1 rounded text-sm">Add</button>
                        <button onclick="deductFund('${user.email}', this.parentElement.querySelector('input').value)" class="bg-red-500 text-white px-3 py-1 rounded text-sm">Deduct</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Load Admin Requests
        function loadAdminRequests() {
            loadAdminDepositRequests();
            loadAdminWithdrawalRequests();
        }

        function loadAdminDepositRequests() {
            const container = document.getElementById('adminDepositRequests');
            container.innerHTML = '';
            
            let hasRequests = false;
            
            users.forEach(user => {
                if (user.depositRequests && user.depositRequests.length > 0) {
                    user.depositRequests.forEach(request => {
                        if (request.status === 'pending') {
                            hasRequests = true;
                            const div = document.createElement('div');
                            div.className = 'p-4 border rounded-xl bg-white dark:bg-gray-600';
                            div.innerHTML = `
                                <p class="dark:text-white"><strong>${user.username}</strong> (${user.email})</p>
                                <p class="dark:text-gray-300">Amount: ${request.currency === 'INR' ? 'â‚¹' : '$'}${request.amount}</p>
                                <p class="dark:text-gray-300">Date: ${request.date}</p>
                                ${request.utr ? `<p class="dark:text-gray-300">UTR: ${request.utr}</p>` : ''}
                                <div class="flex gap-2 mt-2">
                                    <button onclick="approveDeposit('${user.email}', ${request.id})" class="bg-green-500 text-white px-3 py-1 rounded text-sm">Approve</button>
                                    <button onclick="rejectDeposit('${user.email}', ${request.id})" class="bg-red-500 text-white px-3 py-1 rounded text-sm">Reject</button>
                                </div>
                            `;
                            container.appendChild(div);
                        }
                    });
                }
            });
            
            if (!hasRequests) {
                container.innerHTML = '<p class="text-center p-4 dark:text-white">No pending deposit requests</p>';
            }
        }

        function loadAdminWithdrawalRequests() {
            const container = document.getElementById('adminWithdrawalRequests');
            container.innerHTML = '';
            
            let hasRequests = false;
            
            users.forEach(user => {
                if (user.withdrawalRequests && user.withdrawalRequests.length > 0) {
                    user.withdrawalRequests.forEach(request => {
                        if (request.status === 'pending') {
                            hasRequests = true;
                            const div = document.createElement('div');
                            div.className = 'p-4 border rounded-xl bg-white dark:bg-gray-600';
                            div.innerHTML = `
                                <p class="dark:text-white"><strong>${user.username}</strong> (${user.email})</p>
                                <p class="dark:text-gray-300">Amount: ${request.currency === 'INR' ? 'â‚¹' : '$'}${request.amount}</p>
                                <p class="dark:text-gray-300">Date: ${request.date}</p>
                                ${request.bankDetails ? `<p class="dark:text-gray-300">Bank: ${request.bankDetails.bankName} - ${request.bankDetails.accNumber}</p>` : ''}
                                ${request.usdtAddress ? `<p class="dark:text-gray-300">USDT: ${request.usdtAddress} (${request.usdtNetwork})</p>` : ''}
                                <div class="flex gap-2 mt-2">
                                    <button onclick="approveWithdrawal('${user.email}', ${request.id})" class="bg-green-500 text-white px-3 py-1 rounded text-sm">Approve</button>
                                    <button onclick="rejectWithdrawal('${user.email}', ${request.id})" class="bg-red-500 text-white px-3 py-1 rounded text-sm">Reject</button>
                                </div>
                            `;
                            container.appendChild(div);
                        }
                    });
                }
            });
            
            if (!hasRequests) {
                container.innerHTML = '<p class="text-center p-4 dark:text-white">No pending withdrawal requests</p>';
            }
        }

        // Approve Deposit
        function approveDeposit(userEmail, requestId) {
            const user = users.find(u => u.email === userEmail);
            if (!user) return;
            
            const request = user.depositRequests.find(r => r.id === requestId);
            if (!request) return;
            
            // Update request status
            request.status = 'approved';
            request.approvedAt = new Date().toLocaleString();
            
            // Add funds to user balance
            if (request.currency === 'INR') {
                user.balanceINR = (user.balanceINR || 0) + request.amount;
            } else {
                user.balanceUSDT = (user.balanceUSDT || 0) + request.amount;
            }
            
            // Add referral commission
            addReferralCommission(user, request.amount, request.currency);
            
            // Update transaction history
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Deposit Approved',
                amount: request.amount,
                currency: request.currency,
                date: new Date().toLocaleString(),
                note: 'Deposit successfully processed'
            });
            
            saveUsersToCloud();
            alert('Deposit approved successfully!');
            loadAdminRequests();
        }

        // Reject Deposit
        function rejectDeposit(userEmail, requestId) {
            const reason = prompt('Enter reason for rejection:');
            if (!reason) return;
            
            const user = users.find(u => u.email === userEmail);
            if (!user) return;
            
            const request = user.depositRequests.find(r => r.id === requestId);
            if (!request) return;
            
            // Update request status
            request.status = 'rejected';
            request.rejectedAt = new Date().toLocaleString();
            request.rejectionReason = reason;
            
            // Update transaction history
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Deposit Rejected',
                amount: request.amount,
                currency: request.currency,
                date: new Date().toLocaleString(),
                note: `Rejected: ${reason}`
            });
            
            saveUsersToCloud();
            alert('Deposit rejected successfully!');
            loadAdminRequests();
        }

        // Approve Withdrawal
        function approveWithdrawal(userEmail, requestId) {
            const user = users.find(u => u.email === userEmail);
            if (!user) return;
            
            const request = user.withdrawalRequests.find(r => r.id === requestId);
            if (!request) return;
            
            // Check if user has sufficient balance
            if (request.currency === 'INR' && (user.balanceINR || 0) < request.amount) {
                alert('User has insufficient INR balance!');
                return;
            }
            
            if (request.currency === 'USDT' && (user.balanceUSDT || 0) < request.amount) {
                alert('User has insufficient USDT balance!');
                return;
            }
            
            // Update request status
            request.status = 'approved';
            request.approvedAt = new Date().toLocaleString();
            
            // Deduct funds from user balance
            if (request.currency === 'INR') {
                user.balanceINR = (user.balanceINR || 0) - request.amount;
            } else {
                user.balanceUSDT = (user.balanceUSDT || 0) - request.amount;
            }
            
            // Add to withdrawals history
            if (!user.withdrawals) user.withdrawals = [];
            user.withdrawals.unshift({
                amount: request.amount,
                currency: request.currency,
                date: new Date().toLocaleString(),
                status: 'completed'
            });
            
            // Update transaction history
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Withdrawal Approved',
                amount: request.amount,
                currency: request.currency,
                date: new Date().toLocaleString(),
                note: 'Withdrawal successfully processed'
            });
            
            saveUsersToCloud();
            alert('Withdrawal approved successfully!');
            loadAdminRequests();
        }

        // Reject Withdrawal
        function rejectWithdrawal(userEmail, requestId) {
            const reason = prompt('Enter reason for rejection:');
            if (!reason) return;
            
            const user = users.find(u => u.email === userEmail);
            if (!user) return;
            
            const request = user.withdrawalRequests.find(r => r.id === requestId);
            if (!request) return;
            
            // Update request status
            request.status = 'rejected';
            request.rejectedAt = new Date().toLocaleString();
            request.rejectionReason = reason;
            
            // Update transaction history
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Withdrawal Rejected',
                amount: request.amount,
                currency: request.currency,
                date: new Date().toLocaleString(),
                note: `Rejected: ${reason}`
            });
            
            saveUsersToCloud();
            alert('Withdrawal rejected successfully!');
            loadAdminRequests();
        }

        async function addFundToUser() {
            const email = document.getElementById('adminUserEmail').value.trim().toLowerCase();
            const amount = parseFloat(document.getElementById('adminFundAmount').value);
            if (!email || !amount) return alert('Enter email and amount');
            await addFund(email, amount);
        }

        async function deductFundFromUser() {
            const email = document.getElementById('adminUserEmailDeduct').value.trim().toLowerCase();
            const amount = parseFloat(document.getElementById('adminDeductAmount').value);
            if (!email || !amount) return alert('Enter email and amount');
            await deductFund(email, amount);
        }

        async function addFund(email, amountStr) {
            const amt = parseFloat(amountStr);
            if (isNaN(amt) || amt <= 0) return alert('Enter valid amount');
            const user = users.find(u => u.email.toLowerCase() === email.toLowerCase());
            if (!user) return alert('User not found! Check email spelling.');
            user.balanceINR = (user.balanceINR || 0) + amt;
            user.totalDeposits = (user.totalDeposits || 0) + amt;
            
            // Add referral commission if applicable
            addReferralCommission(user, amt, 'INR');
            
            // Add transaction to user history
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Bonus Received Successfully',
                amount: amt,
                currency: 'INR',
                date: new Date().toLocaleString()
            });
            
            await saveUsersToCloud();
            alert(`â‚¹${amt} added to ${user.username}. New balance: â‚¹${user.balanceINR}`);
            loadAdminUsers();
            if (currentUser && currentUser.email.toLowerCase() === email.toLowerCase()) updateBalanceDisplay();
        }

        async function deductFund(email, amountStr) {
            const amt = parseFloat(amountStr);
            if (isNaN(amt) || amt <= 0) return alert('Enter valid amount');
            const user = users.find(u => u.email.toLowerCase() === email.toLowerCase());
            if (!user) return alert('User not found! Check email spelling.');
            if ((user.balanceINR || 0) < amt) return alert(`Insufficient balance. User has only â‚¹${user.balanceINR}`);
            user.balanceINR = (user.balanceINR || 0) - amt;
            
            // Add transaction to user history
            if (!user.transactionHistory) user.transactionHistory = [];
            user.transactionHistory.unshift({
                type: 'Admin Deducted Funds',
                amount: amt,
                currency: 'INR',
                date: new Date().toLocaleString()
            });
            
            await saveUsersToCloud();
            alert(`â‚¹${amt} deducted from ${user.username}. New balance: â‚¹${user.balanceINR}`);
            loadAdminUsers();
            if (currentUser && currentUser.email.toLowerCase() === email.toLowerCase()) updateBalanceDisplay();
        }

        function logout() {
            localStorage.removeItem('currentUser');
            localStorage.removeItem('adminLoggedIn');
            isAdmin = false;
            location.reload();
        }

        // Initialize everything
        window.onload = async () => {
            await initializeDatabase();
            initializeLiveStats(); // Start live stats
            createParticles(); // New: Particles
            checkReferral(); // Check for referral codes
            
            // Load language preference
            currentLanguage = localStorage.getItem('language') || 'english';
            updateLanguage();

            const saved = localStorage.getItem('currentUser');
            if (saved) {
                const user = JSON.parse(saved);
                const found = users.find(u => u.email === user.email);
                if (found) {
                    loginSuccess(found);
                }
            }
            if (localStorage.getItem('adminLoggedIn') === 'true') isAdmin = true;

            // Event listeners
            document.getElementById('languageToggle').addEventListener('click', toggleLanguage);
        };

        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) document.getElementById('menuDropdown').classList.add('hidden');
        });
    </script>
</body>
</html>
