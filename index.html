<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Captain Mining - Smart Crypto Mining & AI Trading</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3a86ff;
            --primary-dark: #2667cc;
            --secondary: #8338ec;
            --accent: #ff006e;
            --success: #06d6a0;
            --warning: #ffd166;
            --danger: #ef476f;
            --dark: #1a1a2e;
            --darker: #0d0d1a;
            --light: #f8f9fa;
            --gray: #6c757d;
            --border-radius: 15px;
            --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s ease;
            --gradient-bg: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(20px);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 26px;
            font-weight: 800;
            background: var(--gradient-bg);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(58, 134, 255, 0.5);
        }

        .logo-icon {
            font-size: 30px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 35px;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            padding: 5px 0;
        }

        nav a:hover {
            color: var(--primary);
            transform: translateY(-2px);
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: var(--gradient-bg);
            transition: var(--transition);
            transform: translateX(-50%);
        }

        nav a:hover::after {
            width: 100%;
        }

        .support-link {
            background: linear-gradient(45deg, var(--success), #05b387);
            padding: 12px 24px;
            border-radius: var(--border-radius);
            text-decoration: none;
            color: var(--dark);
            font-weight: 700;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(6, 214, 160, 0.3);
        }

        .support-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(6, 214, 160, 0.4);
        }

        .auth-buttons {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn {
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: var(--dark);
            transform: translateY(-2px);
        }

        .btn-primary {
            background: var(--gradient-bg);
            color: var(--light);
            box-shadow: 0 4px 15px rgba(58, 134, 255, 0.3);
        }

        .btn-primary:hover {
            background: linear-gradient(90deg, var(--primary-dark), var(--secondary));
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(58, 134, 255, 0.4);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success), #05b387);
            color: var(--dark);
            box-shadow: 0 4px 15px rgba(6, 214, 160, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(6, 214, 160, 0.4);
        }

        .btn-danger {
            background: linear-gradient(45deg, var(--danger), #cc0000);
            color: var(--light);
        }

        .btn-danger:hover {
            transform: translateY(-2px);
        }

        .page {
            display: none;
            padding: 60px 0;
            min-height: 80vh;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .active {
            display: block;
        }

        .hero {
            padding: 120px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(58, 134, 255, 0.15) 0%, rgba(131, 56, 236, 0.1) 70%, transparent 100%);
            z-index: -1;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .hero h1 {
            font-size: 52px;
            margin-bottom: 25px;
            line-height: 1.2;
            text-shadow: 0 0 20px rgba(58, 134, 255, 0.5);
        }

        .hero h1 span {
            background: var(--gradient-bg);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 22px;
            margin-bottom: 40px;
            color: #b8b8cc;
            max-width: 750px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-buttons {
            display: flex;
            gap: 25px;
            justify-content: center;
            margin-bottom: 60px;
            flex-wrap: wrap;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-top: 60px;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
            background: rgba(26, 26, 46, 0.6);
            padding: 30px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(58, 134, 255, 0.2);
        }

        .stat-value {
            font-size: 36px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 16px;
            color: var(--gray);
            font-weight: 500;
        }

        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 70vh;
        }

        .auth-box {
            background: rgba(26, 26, 46, 0.9);
            border-radius: var(--border-radius);
            padding: 50px;
            width: 100%;
            max-width: 500px;
            box-shadow: var(--box-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 35px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px 10px 0 0;
        }

        .auth-tab {
            padding: 18px 25px;
            cursor: pointer;
            text-align: center;
            flex: 1;
            font-weight: 700;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            border-radius: 10px 10px 0 0;
        }

        .auth-tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
            background: rgba(58, 134, 255, 0.1);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--light);
        }

        .form-control {
            width: 100%;
            padding: 18px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.05);
            color: var(--light);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }

        .form-control::placeholder {
            color: var(--gray);
        }

        .password-container {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
        }

        .toggle-password:hover {
            color: var(--primary);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            position: relative;
        }

        .menu-toggle {
            font-size: 28px;
            cursor: pointer;
            color: var(--light);
            padding: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .menu-toggle:hover {
            background: rgba(58, 134, 255, 0.2);
            color: var(--primary);
        }

        .menu-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: rgba(26, 26, 46, 0.98);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            min-width: 280px;
            z-index: 1001;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .menu-dropdown.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .menu-item {
            display: block;
            padding: 15px 0;
            color: var(--light);
            text-decoration: none;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .menu-item:hover {
            color: var(--primary);
            padding-left: 10px;
        }

        .menu-item:last-child {
            border-bottom: none;
        }

        .menu-item i {
            margin-right: 10px;
            width: 20px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .user-avatar {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: var(--gradient-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(58, 134, 255, 0.3);
            transition: var(--transition);
        }

        .user-avatar:hover {
            transform: rotate(360deg);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(26, 26, 46, 0.8);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-bg);
        }

        .stat-card:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: 0 15px 35px rgba(58, 134, 255, 0.2);
        }

        .stat-card h3 {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 15px;
            font-weight: 500;
        }

        .stat-card .value {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .action-card {
            background: rgba(26, 26, 46, 0.8);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-bg);
        }

        .action-card:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: 0 15px 35px rgba(58, 134, 255, 0.2);
        }

        .action-icon {
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--primary);
            transition: var(--transition);
        }

        .action-card:hover .action-icon {
            transform: scale(1.1);
            color: var(--secondary);
        }

        .plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .plan-card {
            background: rgba(26, 26, 46, 0.8);
            border-radius: var(--border-radius);
            padding: 35px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .plan-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-bg);
        }

        .plan-card:hover {
            transform: translateY(-12px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .plan-card.popular {
            border-color: var(--accent);
            box-shadow: 0 0 30px rgba(255, 0, 110, 0.2);
        }

        .plan-card.popular::after {
            content: 'MOST POPULAR';
            position: absolute;
            top: 20px;
            right: -40px;
            background: var(--accent);
            color: white;
            padding: 8px 40px;
            font-size: 12px;
            font-weight: bold;
            transform: rotate(45deg);
            box-shadow: 0 4px 15px rgba(255, 0, 110, 0.3);
        }

        .plan-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .plan-name {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--primary);
        }

        .plan-amount {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 8px;
            color: var(--light);
        }

        .plan-daily {
            font-size: 18px;
            color: var(--success);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .plan-features {
            list-style: none;
            margin-bottom: 30px;
        }

        .plan-features li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
        }

        .plan-features li:hover {
            padding-left: 10px;
            color: var(--primary);
        }

        .plan-features li:before {
            content: 'âœ“';
            color: var(--success);
            font-weight: bold;
            font-size: 18px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--dark);
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 550px;
            padding: 40px;
            box-shadow: var(--box-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlide 0.3s ease-out;
        }

        @keyframes modalSlide {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary);
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 28px;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px;
            border-radius: 50%;
        }

        .close-modal:hover {
            color: var(--danger);
            background: rgba(239, 71, 111, 0.1);
        }

        .currency-tabs, .withdrawal-tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px 10px 0 0;
        }

        .currency-tab, .withdrawal-tab {
            padding: 15px 25px;
            cursor: pointer;
            text-align: center;
            flex: 1;
            font-weight: 700;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            border-radius: 10px 10px 0 0;
        }

        .currency-tab.active, .withdrawal-tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
            background: rgba(58, 134, 255, 0.1);
        }

        .payment-method {
            display: none;
        }

        .payment-method.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        .payment-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            margin-top: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .payment-address {
            background: rgba(0, 0, 0, 0.4);
            padding: 18px;
            border-radius: 10px;
            margin-top: 15px;
            word-break: break-all;
            font-family: monospace;
            font-size: 14px;
            color: var(--light);
            border-left: 4px solid var(--primary);
        }

        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 15px;
            transition: var(--transition);
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .copy-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .whatsapp-btn {
            background: linear-gradient(45deg, #25D366, #128C7E);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin-top: 20px;
            transition: var(--transition);
            width: 100%;
            font-weight: 700;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.4);
        }

        .history-list {
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
            transition: var(--transition);
        }

        .history-item:hover {
            background: rgba(58, 134, 255, 0.1);
        }

        .profile-info {
            background: rgba(26, 26, 46, 0.9);
            padding: 40px;
            border-radius: var(--border-radius);
            margin-bottom: 40px;
            box-shadow: var(--box-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .profile-field {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
        }

        .profile-field:hover {
            border-bottom-color: var(--primary);
        }

        .profile-label {
            font-weight: 600;
            color: var(--gray);
        }

        .profile-value {
            font-weight: 700;
            color: var(--primary);
            text-align: right;
        }

        .admin-panel {
            background: rgba(26, 26, 46, 0.9);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-form {
            display: grid;
            gap: 20px;
            margin-bottom: 30px;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .admin-users, .admin-ai-control {
            max-height: 500px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .admin-user {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
        }

        .admin-user:hover {
            background: rgba(58, 134, 255, 0.1);
        }

        .ai-trading-section, .chart-analysis-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .ai-trading-section.active, .chart-analysis-section.active {
            display: block;
        }

        .tradingview-widget-container {
            height: 550px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .ai-panel, .chart-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--box-shadow);
        }

        .ai-status {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 12px;
            border-left: 5px solid #00d4ff;
        }

        .status-indicator {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #00ff88;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .ai-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 25px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-label {
            font-weight: 700;
            color: #00d4ff;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider {
            flex: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }

        .slider-value {
            min-width: 45px;
            text-align: center;
            font-weight: 700;
            color: var(--primary);
        }

        .signals-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--box-shadow);
        }

        .signal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .signal-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            border-left: 5px solid;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .signal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .signal-buy { border-color: #00ff88; background: rgba(0, 255, 136, 0.15); }
        .signal-sell { border-color: #ff4444; background: rgba(255, 68, 68, 0.15); }
        .signal-hold { border-color: #ffaa00; background: rgba(255, 170, 0, 0.15); }

        .signal-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .positions-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--box-shadow);
        }

        .position-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            transition: var(--transition);
        }

        .position-item:hover {
            background: rgba(58, 134, 255, 0.1);
        }

        .position-profit {
            font-weight: 700;
            font-size: 18px;
        }

        .profit-positive { color: #00ff88; }
        .profit-negative { color: #ff4444; }

        .performance-stats {
            margin-top: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .stat-card {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-3px);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 800;
            margin: 8px 0;
            color: var(--primary);
        }

        footer {
            background: var(--darker);
            padding: 60px 0 30px;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 50px;
            margin-bottom: 50px;
        }

        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 12px;
            color: var(--primary);
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--gradient-bg);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 15px;
        }

        .footer-column a {
            color: #b8b8cc;
            text-decoration: none;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .footer-column a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 20px;
            margin-top: 25px;
        }

        .social-links a {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            font-size: 20px;
        }

        .social-links a:hover {
            background: var(--primary);
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 5px 20px rgba(58, 134, 255, 0.4);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            color: var(--gray);
            font-size: 15px;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 40px;
            }
            
            .stats {
                flex-direction: column;
                gap: 25px;
            }
            
            nav ul {
                display: none;
            }
            
            .auth-box {
                padding: 35px 25px;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            .dashboard-header {
                flex-direction: column;
                gap: 15px;
            }

            .plans-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Additional Styles for AI and Chart Sections */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 25px;
            margin-bottom: 30px;
        }

        @media (max-width: 1024px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .symbol-selector {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .timeframe-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .timeframe-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
            font-weight: 600;
        }

        .timeframe-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: var(--dark);
        }

        .portfolio-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--box-shadow);
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .portfolio-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 12px;
            border-left: 5px solid var(--primary);
            transition: var(--transition);
        }

        .portfolio-card:hover {
            transform: translateY(-5px);
        }

        .portfolio-value {
            font-size: 2rem;
            font-weight: 800;
            margin: 15px 0;
            background: var(--gradient-bg);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .price-up { color: #00ff88 !important; }
        .price-down { color: #ff4444 !important; }

        .crypto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .crypto-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
            cursor: pointer;
        }

        .crypto-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 212, 255, 0.3);
            border-color: var(--primary);
        }

        .crypto-symbol {
            font-size: 1.6rem;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--primary);
        }

        .crypto-name {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 15px;
        }

        .crypto-price {
            font-size: 1.4rem;
            font-weight: 700;
            margin: 12px 0;
        }

        .crypto-change {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div>Captain Mining</div>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" onclick="showPage('home')"><i class="fas fa-home"></i>Home</a></li>
                        <li><a href="#" onclick="showPage('plans')"><i class="fas fa-chart-line"></i>Plans</a></li>
                        <li><a href="#" onclick="showPage('about')"><i class="fas fa-info-circle"></i>About</a></li>
                        <li><a href="#" onclick="showPage('contact')"><i class="fas fa-envelope"></i>Contact</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons" id="authButtons">
                    <a href="#" class="btn btn-outline" onclick="showPage('login')"><i class="fas fa-sign-in-alt"></i>Log In</a>
                    <a href="#" class="btn btn-primary" onclick="showPage('signup')"><i class="fas fa-user-plus"></i>Sign Up</a>
                </div>
                <div class="user-info" id="userInfo" style="display: none;">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div>
                        <div id="userName">User</div>
                        <a href="#" onclick="logout()" style="font-size: 14px; color: var(--gray);"><i class="fas fa-sign-out-alt"></i>Logout</a>
                    </div>
                </div>
                <a href="https://wa.me/message/Q4BLFPHK2VU7H1" class="support-link" target="_blank"><i class="fab fa-whatsapp"></i>Support</a>
            </div>
        </div>
    </header>

    <section id="home" class="page active">
        <div class="hero">
            <div class="container">
                <h1>Earn <span>3-15% Monthly Returns</span> with Smart Crypto Mining & AI Trading</h1>
                <p>Captain Mining is a next-generation cloud mining and AI-powered trading platform designed for users who want steady, realistic profits without technical complexity. Join thousands earning daily with our secure staking and bot systems.</p>
                <div class="cta-buttons">
                    <a href="#" class="btn btn-primary" onclick="showPage('signup')"><i class="fas fa-rocket"></i>Start Mining Now</a>
                    <a href="#" class="btn btn-outline" onclick="showPage('plans')"><i class="fas fa-list"></i>View Plans</a>
                </div>
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value">50K+</div>
                        <div class="stat-label">Active Users</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">$10M+</div>
                        <div class="stat-label">Total Payouts</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">50+</div>
                        <div class="stat-label">Countries</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">99.9%</div>
                        <div class="stat-label">Uptime</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="signup" class="page">
        <div class="auth-container">
            <div class="auth-box">
                <div class="auth-tabs">
                    <div class="auth-tab active" onclick="showAuthTab('signup')"><i class="fas fa-user-plus"></i>Sign Up</div>
                    <div class="auth-tab" onclick="showAuthTab('login')"><i class="fas fa-sign-in-alt"></i>Log In</div>
                </div>
                <form id="signupForm">
                    <div class="form-group">
                        <label for="referralCode"><i class="fas fa-share-alt"></i> Referral Code (Optional - Earn Bonus)</label>
                        <input type="text" id="referralCode" class="form-control" placeholder="Enter referral code for 2% bonus on deposits">
                    </div>
                    <div class="form-group">
                        <label for="signupUsername"><i class="fas fa-user"></i> Username</label>
                        <input type="text" id="signupUsername" class="form-control" placeholder="Choose a unique username" required>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail"><i class="fas fa-envelope"></i> Email Address</label>
                        <input type="email" id="signupEmail" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPhone"><i class="fas fa-phone"></i> Phone Number</label>
                        <input type="tel" id="signupPhone" class="form-control" placeholder="Enter your phone (for OTP)" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword"><i class="fas fa-lock"></i> Password</label>
                        <div class="password-container">
                            <input type="password" id="signupPassword" class="form-control" placeholder="Create a strong password (8+ chars)" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('signupPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword"><i class="fas fa-lock-open"></i> Confirm Password</label>
                        <div class="password-container">
                            <input type="password" id="confirmPassword" class="form-control" placeholder="Confirm your password" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('confirmPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;"><i class="fas fa-user-plus"></i> Create Account</button>
                    <p style="text-align: center; margin-top: 15px; color: var(--gray); font-size: 14px;">By signing up, you agree to our <a href="#" style="color: var(--primary);">Terms</a> and <a href="#" style="color: var(--primary);">Privacy Policy</a>.</p>
                </form>
            </div>
        </div>
    </section>

    <section id="login" class="page">
        <div class="auth-container">
            <div class="auth-box">
                <div class="auth-tabs">
                    <div class="auth-tab" onclick="showAuthTab('signup')"><i class="fas fa-user-plus"></i>Sign Up</div>
                    <div class="auth-tab active" onclick="showAuthTab('login')"><i class="fas fa-sign-in-alt"></i>Log In</div>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail"><i class="fas fa-user"></i> Email or Username</label>
                        <input type="text" id="loginEmail" class="form-control" placeholder="Enter your email or username" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword"><i class="fas fa-lock"></i> Password</label>
                        <div class="password-container">
                            <input type="password" id="loginPassword" class="form-control" placeholder="Enter your password" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('loginPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;"><i class="fas fa-sign-in-alt"></i> Log In</button>
                    <p style="text-align: center; margin-top: 15px; color: var(--gray); font-size: 14px;">
                        <a href="#" onclick="showPage('adminLogin')" style="color: var(--primary);">Admin Login?</a> | <a href="#" style="color: var(--primary);">Forgot Password?</a>
                    </p>
                </form>
            </div>
        </div>
    </section>

    <section id="adminLogin" class="page">
        <div class="auth-container">
            <div class="auth-box">
                <h2 style="text-align: center; margin-bottom: 30px; color: var(--primary);"><i class="fas fa-shield-alt"></i> Admin Login</h2>
                <form id="adminForm">
                    <div class="form-group">
                        <label for="adminUsername"><i class="fas fa-user-shield"></i> Admin Username</label>
                        <input type="text" id="adminUsername" class="form-control" placeholder="Enter admin username" required>
                    </div>
                    <div class="form-group">
                        <label for="adminPassword"><i class="fas fa-lock"></i> Admin Password</label>
                        <div class="password-container">
                            <input type="password" id="adminPassword" class="form-control" placeholder="Enter admin password" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('adminPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;"><i class="fas fa-sign-in-alt"></i> Admin Log In</button>
                </form>
            </div>
        </div>
    </section>

    <section id="dashboard" class="page">
        <div class="container">
            <div class="dashboard-header">
                <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
                <i class="fas fa-ellipsis-v menu-toggle" onclick="toggleMenu()" title="Menu"></i>
                <div class="menu-dropdown" id="menuDropdown">
                    <div class="menu-item" onclick="showProfile()"><i class="fas fa-user"></i> Profile</div>
                    <div class="menu-item" onclick="showDeposit()"><i class="fas fa-plus-circle"></i> Deposit</div>
                    <div class="menu-item" onclick="showWithdrawal()"><i class="fas fa-minus-circle"></i> Withdrawal</div>
                    <div class="menu-item" onclick="showHistory()"><i class="fas fa-history"></i> History</div>
                    <div class="menu-item" onclick="showReferral()"><i class="fas fa-share-alt"></i> Referral</div>
                    <div class="menu-item" onclick="showCommunity()"><i class="fas fa-users"></i> Community</div>
                    <div class="menu-item" onclick="showSupport()"><i class="fab fa-whatsapp"></i> Customer Support</div>
                    <div class="menu-item" onclick="showAIBot()"><i class="fas fa-robot"></i> AI Bot Trading</div>
                    <div class="menu-item" onclick="showChartAnalysis()"><i class="fas fa-chart-bar"></i> Chart Analysis</div>
                </div>
                <div class="user-info">
                    <div class="user-avatar" id="dashboardAvatar">U</div>
                    <div>
                        <div id="dashboardName">User</div>
                        <div style="font-size: 14px; color: var(--gray);" id="dashboardEmail">user@example.com</div>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div class="profile-info" id="profileSection" style="display: none;">
                <h2><i class="fas fa-user"></i> Profile Details</h2>
                <div class="profile-field">
                    <span class="profile-label"><i class="fas fa-user"></i> Username:</span>
                    <span class="profile-value" id="profileUsername">User</span>
                </div>
                <div class="profile-field">
                    <span class="profile-label"><i class="fas fa-envelope"></i> Email:</span>
                    <span class="profile-value" id="profileEmail">user@example.com</span>
                </div>
                <div class="profile-field">
                    <span class="profile-label"><i class="fas fa-phone"></i> Phone:</span>
                    <span class="profile-value" id="profilePhone">+91 XXXXX XXXXX</span>
                </div>
                <div class="profile-field">
                    <span class="profile-label"><i class="fas fa-id-card"></i> UID:</span>
                    <span class="profile-value" id="profileUID">UID123456</span>
                </div>
                <div class="profile-field">
                    <span class="profile-label"><i class="fas fa-calendar-check"></i> Registration Date:</span>
                    <span class="profile-value" id="profileRegDate">Jan 1, 2024</span>
                </div>
                <div class="profile-field">
                    <span class="profile-label"><i class="fas fa-clock"></i> Last Seen:</span>
                    <span class="profile-value" id="profileLastSeen">Now</span>
                </div>
                <div class="profile-field">
                    <span class="profile-label"><i class="fas fa-dollar-sign"></i> Balance:</span>
                    <span class="profile-value" id="profileBalance">$0.00</span>
                </div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 20px;" onclick="updateProfile()"><i class="fas fa-edit"></i> Update Profile</button>
            </div>

            <!-- Deposit Section -->
            <div id="depositSection" style="display: none;">
                <h2><i class="fas fa-plus-circle"></i> Deposit Funds</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">Add funds to start earning. Minimum deposit $10.</p>
                <div class="currency-tabs">
                    <div class="currency-tab active" onclick="showCurrencyTab('inr')"><i class="fas fa-rupee-sign"></i> INR (UPI)</div>
                    <div class="currency-tab" onclick="showCurrencyTab('usdt')"><i class="fas fa-coins"></i> USDT</div>
                </div>
                <div id="inrDeposit" class="payment-method active">
                    <h3>UPI Payment / à¤¯à¥‚à¤ªà¥€à¤†à¤ˆ à¤­à¥à¤—à¤¤à¤¾à¤¨</h3>
                    <div class="form-group">
                        <label for="inrAmount"><i class="fas fa-rupee-sign"></i> Amount (INR)</label>
                        <input type="number" id="inrAmount" class="form-control" placeholder="Enter amount (min â‚¹800)" min="800" required>
                    </div>
                    <p style="color: var(--gray); margin-bottom: 15px;">Send payment to UPI ID: <strong>millnerkaptan01@fam</strong></p>
                    <div class="payment-info">
                        <div class="payment-address">millnerkaptan01@fam</div>
                        <button class="copy-btn" onclick="copyToClipboard('millnerkaptan01@fam')">
                            <i class="fas fa-copy"></i> Copy UPI ID / à¤¯à¥‚à¤ªà¥€à¤†à¤ˆ à¤†à¤ˆà¤¡à¥€ à¤•à¥‰à¤ªà¥€ à¤•à¤°à¥‡à¤‚
                        </button>
                    </div>
                    <button class="whatsapp-btn" onclick="confirmINRDeposit()">
                        <i class="fab fa-whatsapp"></i> Confirm Payment / à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¥€ à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚
                    </button>
                    <p style="margin-top: 15px; font-size: 14px; color: var(--gray); text-align: center;">After payment, click confirm to send details to support.</p>
                </div>
                <div id="usdtDeposit" class="payment-method">
                    <h3>USDT Payment</h3>
                    <div class="form-group">
                        <label for="usdtAmount"><i class="fas fa-coins"></i> Amount (USDT)</label>
                        <input type="number" id="usdtAmount" class="form-control" placeholder="Enter amount (min 10 USDT)" min="10" step="0.01" required>
                    </div>
                    <p style="color: var(--gray); margin-bottom: 15px;">Send USDT to one of the following addresses. Confirm on Tron or BSC network.</p>
                    <div style="margin-bottom: 25px;">
                        <h4>TRC20 (Tron Network)</h4>
                        <div class="payment-info">
                            <div class="payment-address">TN9DDuzXnXirgAAS4mRe8VFQ6VxuVUQmJc</div>
                            <button class="copy-btn" onclick="copyToClipboard('TN9DDuzXnXirgAAS4mRe8VFQ6VxuVUQmJc')">
                                <i class="fas fa-copy"></i> Copy TRC20 Address
                            </button>
                        </div>
                    </div>
                    <div style="margin-bottom: 25px;">
                        <h4>BEP20 (BSC Network)</h4>
                        <div class="payment-info">
                            <div class="payment-address">0x8e57d705f1b58ceda77c91df6ac80aac5c2a83df</div>
                            <button class="copy-btn" onclick="copyToClipboard('0x8e57d705f1b58ceda77c91df6ac80aac5c2a83df')">
                                <i class="fas fa-copy"></i> Copy BEP20 Address
                            </button>
                        </div>
                    </div>
                    <p style="margin-top: 15px; font-size: 14px; color: var(--gray);">After payment, send transaction screenshot/hash to support via chat.</p>
                    <button class="whatsapp-btn" onclick="confirmUSDTDeposit()">
                        <i class="fab fa-whatsapp"></i> Confirm Payment & Send Proof
                    </button>
                </div>
            </div>

            <!-- Withdrawal Section -->
            <div id="withdrawalSection" style="display: none;">
                <h2><i class="fas fa-minus-circle"></i> Withdrawal Request</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">Minimum withdrawal $10. Processing time 24-48 hours.</p>
                <div class="withdrawal-tabs">
                    <div class="withdrawal-tab active" onclick="showWithdrawalTab('inr')"><i class="fas fa-rupee-sign"></i> INR (Bank)</div>
                    <div class="withdrawal-tab" onclick="showWithdrawalTab('usdt')"><i class="fas fa-coins"></i> USDT</div>
                </div>
                <div id="inrWithdrawal" class="payment-method active">
                    <h3>INR Bank Withdrawal / à¤­à¤¾à¤°à¤¤à¥€à¤¯ à¤¬à¥ˆà¤‚à¤• à¤¨à¤¿à¤•à¤¾à¤¸à¥€</h3>
                    <div class="form-group">
                        <label for="bankName"><i class="fas fa-university"></i> Bank Name</label>
                        <input type="text" id="bankName" class="form-control" placeholder="e.g., State Bank of India" required>
                    </div>
                    <div class="form-group">
                        <label for="accountHolder"><i class="fas fa-user"></i> Account Holder Name</label>
                        <input type="text" id="accountHolder" class="form-control" placeholder="Full name as per bank" required>
                    </div>
                    <div class="form-group">
                        <label for="accountNumber"><i class="fas fa-credit-card"></i> Account Number</label>
                        <input type="text" id="accountNumber" class="form-control" placeholder="Bank account number" required>
                    </div>
                    <div class="form-group">
                        <label for="ifscCode"><i class="fas fa-barcode"></i> IFSC Code</label>
                        <input type="text" id="ifscCode" class="form-control" placeholder="e.g., SBIN0001234" required>
                    </div>
                    <div class="form-group">
                        <label for="withdrawalAmount"><i class="fas fa-rupee-sign"></i> Amount (INR)</label>
                        <input type="number" id="withdrawalAmount" class="form-control" placeholder="Enter amount (min â‚¹800)" min="800" required>
                    </div>
                    <button class="whatsapp-btn" onclick="requestINRWithdrawal()">
                        <i class="fab fa-whatsapp"></i> Request Withdrawal / à¤¨à¤¿à¤•à¤¾à¤¸à¥€ à¤…à¤¨à¥à¤°à¥‹à¤§
                    </button>
                </div>
                <div id="usdtWithdrawal" class="payment-method">
                    <h3>USDT Withdrawal</h3>
                    <div class="form-group">
                        <label for="usdtAddress"><i class="fas fa-wallet"></i> USDT Wallet Address</label>
                        <input type="text" id="usdtAddress" class="form-control" placeholder="Enter your TRC20/BEP20 address" required>
                    </div>
                    <div class="form-group">
                        <label for="usdtWithdrawAmount"><i class="fas fa-coins"></i> Amount (USDT)</label>
                        <input type="number" id="usdtWithdrawAmount" class="form-control" placeholder="Enter amount (min 10 USDT)" min="10" step="0.01" required>
                    </div>
                    <button class="whatsapp-btn" onclick="requestUSDTWithdrawal()">
                        <i class="fab fa-whatsapp"></i> Request Withdrawal
                    </button>
                </div>
            </div>

            <!-- History Section -->
            <div id="historySection" style="display: none;">
                <h2><i class="fas fa-history"></i> Transaction History</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">Real-time updates on your deposits and withdrawals.</p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div>
                        <h3><i class="fas fa-plus-circle"></i> Deposit History</h3>
                        <div class="history-list" id="depositHistory">
                            <div class="history-item" style="text-align: center; color: var(--gray);">
                                No deposits yet. Start by depositing funds.
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3><i class="fas fa-minus-circle"></i> Withdrawal History</h3>
                        <div class="history-list" id="withdrawalHistory">
                            <div class="history-item" style="text-align: center; color: var(--gray);">
                                No withdrawals yet.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Referral Section -->
            <div id="referralSection" style="display: none;">
                <h2><i class="fas fa-share-alt"></i> Referral Program</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">Earn 2% commission on your referrals' deposits. Share your unique code!</p>
                <div class="form-group">
                    <label for="referralLink"><i class="fas fa-link"></i> Your Referral Link</label>
                    <input type="text" id="referralLink" class="form-control" readonly placeholder="Your link will appear here">
                    <button class="copy-btn" onclick="copyToClipboard(document.getElementById('referralLink').value)" style="margin-top: 10px;">
                        <i class="fas fa-copy"></i> Copy Link
                    </button>
                </div>
                <p><strong>Your Referral Code:</strong> <span id="userReferralCode" style="color: var(--success); font-size: 18px; font-weight: bold;">CODE123</span></p>
                <p style="color: var(--success); font-weight: 600;">Referral Earnings: $<span id="referralEarnings">0.00</span></p>
                <p style="color: var(--gray);">Share with friends to earn passive income!</p>
            </div>

            <!-- Community Section -->
            <div id="communitySection" style="display: none;">
                <h2><i class="fas fa-users"></i> Community</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">Join our Telegram group for updates, discussions, and exclusive tips.</p>
                <a href="https://t.me/+_4xwakMXjOdiMTg9" target="_blank" class="btn btn-primary" style="display: inline-block; margin-top: 20px; padding: 15px 40px; font-size: 18px;">
                    <i class="fab fa-telegram-plane"></i> Join Telegram Group (10K+ Members)
                </a>
                <p style="text-align: center; margin-top: 20px; color: var(--gray); font-size: 14px;">Stay connected and learn from the community!</p>
            </div>

            <!-- Support Section -->
            <div id="supportSection" style="display: none;">
                <h2><i class="fas fa-headset"></i> Customer Support</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">24/7 support available. Chat with us for instant help.</p>
                <a href="https://wa.me/message/Q4BLFPHK2VU7H1" target="_blank" class="btn btn-success" style="display: inline-block; margin-top: 20px; padding: 15px 40px; font-size: 18px;">
                    <i class="fab fa-whatsapp"></i> Chat on WhatsApp (Live Support)
                </a>
                <p style="text-align: center; margin-top: 20px; color: var(--gray); font-size: 14px;">Response time: <strong>Under 5 minutes</strong></p>
            </div>

            <!-- AI Bot Section -->
            <div id="aiBotSection" class="ai-trading-section" style="display: none;">
                <h2><i class="fas fa-robot"></i> AI Bot Trading</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">Automated trading with AI. Invest immediately and watch your portfolio grow in real-time.</p>
                <div class="header" style="margin-bottom: 30px;">
                    <h3 style="color: var(--primary);">Welcome, <strong id="aiUserName">User</strong> | Current Investment: $<span id="aiInvestment">0.00</span></h3>
                </div>
                <div class="dashboard-grid">
                    <div class="chart-section">
                        <div class="chart-header">
                            <h3><i class="fas fa-chart-line"></i> Live Trading Chart</h3>
                            <div class="symbol-selector" id="aiSymbolSelector"></div>
                        </div>
                        <div class="tradingview-widget-container">
                            <div id="ai_tradingview_chart"></div>
                        </div>
                    </div>
                    <div class="ai-panel">
                        <div class="ai-status">
                            <div class="status-indicator"></div>
                            <div>
                                <h4>AI Trading Bot</h4>
                                <p>Status: <span id="aiStatus">Ready to Start</span></p>
                            </div>
                        </div>
                        <div class="ai-controls">
                            <div class="control-group">
                                <label class="control-label"><i class="fas fa-cogs"></i> AI Trading Mode</label>
                                <select id="aiMode" class="form-control" style="padding: 12px;">
                                    <option value="conservative">Conservative (Low Risk)</option>
                                    <option value="moderate" selected>Moderate (Balanced)</option>
                                    <option value="aggressive">Aggressive (High Risk)</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label class="control-label"><i class="fas fa-dollar-sign"></i> Trade Amount: $<span id="tradeAmountValue">100</span></label>
                                <div class="slider-container">
                                    <input type="range" id="tradeAmount" class="slider" min="10" max="1000" value="100" step="10">
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label"><i class="fas fa-exclamation-triangle"></i> Risk Level: <span id="riskToleranceValue">5</span>/10</label>
                                <div class="slider-container">
                                    <input type="range" id="riskTolerance" class="slider" min="1" max="10" value="5">
                                </div>
                            </div>
                            <button class="btn btn-success" onclick="startAITrading()" id="startBtn" style="margin-top: 10px;">
                                <i class="fas fa-play"></i> Start AI Trading
                            </button>
                            <button class="btn btn-danger" onclick="stopAITrading()" id="stopBtn" style="display: none; margin-top: 10px;">
                                <i class="fas fa-stop"></i> Stop AI Trading
                            </button>
                            <button class="btn btn-primary" onclick="investInBot()" style="width: 100%; margin-top: 15px;">
                                <i class="fas fa-coins"></i> Invest Now ($<span id="botInvestmentAmount">100</span>)
                            </button>
                        </div>
                        <div class="performance-stats">
                            <h4><i class="fas fa-chart-pie"></i> Live Performance</h4>
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-value" id="totalProfit" style="color: #00ff88;">+$0.00</div>
                                    <div>Total Profit</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="winRate" style="color: #00d4ff;">0%</div>
                                    <div>Win Rate</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="activeTrades">0</div>
                                    <div>Active Trades</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="totalTrades">0</div>
                                    <div>Total Trades</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="signals-section">
                    <h3><i class="fas fa-lightbulb"></i> Live AI Trading Signals</h3>
                    <div class="signal-grid" id="signalGrid">
                        <!-- Signals populated by JS -->
                    </div>
                </div>
                <div class="positions-section">
                    <h3><i class="fas fa-briefcase"></i> Active Trading Positions</h3>
                    <div id="positionsContainer">
                        <div style="text-align: center; padding: 30px; color: var(--gray);">
                            No active positions. Start AI Trading to begin automated investments.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chart Analysis Section -->
            <div id="chartAnalysisSection" class="chart-analysis-section" style="display: none;">
                <h2><i class="fas fa-chart-bar"></i> Chart Analysis</h2>
                <p style="color: var(--gray); margin-bottom: 30px;">Advanced charts and market data for informed decisions.</p>
                <div class="header">
                    <h3><i class="fas fa-chart-line"></i> Crypto Trading Dashboard</h3>
                    <p>Live Market Data & Advanced Charts</p>
                </div>
                <div class="crypto-grid" id="cryptoGrid">
                    <!-- Prices populated by JS -->
                </div>
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-area"></i> Advanced Trading Chart</h3>
                        <div class="symbol-selector" id="symbolSelector"></div>
                    </div>
                    <div class="timeframe-selector" id="timeframeSelector"></div>
                    <div class="tradingview-widget-container">
                        <div id="tradingview_chart"></div>
                    </div>
                </div>
                <div class="portfolio-section">
                    <h3><i class="fas fa-wallet"></i> Portfolio Overview</h3>
                    <div class="portfolio-grid">
                        <div class="portfolio-card">
                            <h4>Total Balance</h4>
                            <div class="portfolio-value" id="totalBalance">$21,683.55</div>
                            <p>Available: <span id="availableCash">$13,654.10</span></p>
                        </div>
                        <div class="portfolio-card">
                            <h4>Total P&L</h4>
                            <div class="portfolio-value price-up" id="totalPnL">+$11,683.55</div>
                            <p>Realized: <span class="price-up">$10,049.01</span></p>
                        </div>
                        <div class="portfolio-card">
                            <h4>Active Positions</h4>
                            <div class="portfolio-value" id="activePositions">6</div>
                            <p>Unrealized P&L: <span class="price-up" id="unrealizedPnL">+$1,630</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Default Dashboard Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3><i class="fas fa-wallet"></i> Total Balance</h3>
                    <div class="value" id="totalBalanceDash">$0.00</div>
                </div>
                <div class="stat-card">
                    <h3><i class="fas fa-chart-line"></i> Active Investment</h3>
                    <div class="value" id="activeInvestment">$0.00</div>
                </div>
                <div class="stat-card">
                    <h3><i class="fas fa-trophy"></i> Total Profit</h3>
                    <div class="value" id="totalProfitDash">$0.00</div>
                </div>
                <div class="stat-card">
                    <h3><i class="fas fa-clock"></i> Daily Earnings</h3>
                    <div class="value" id="dailyEarnings">$0.00</div>
                </div>
            </div>

            <div class="actions-grid">
                <div class="action-card" onclick="showPage('plans')">
                    <div class="action-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <h3>Invest in Plans</h3>
                    <p>Stake and earn daily interest</p>
                </div>
                <div class="action-card" onclick="showDeposit()">
                    <div class="action-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <h3>Deposit</h3>
                    <p>Add funds securely</p>
                </div>
                <div class="action-card" onclick="showWithdrawal()">
                    <div class="action-icon">
                        <i class="fas fa-minus-circle"></i>
                    </div>
                    <h3>Withdraw</h3>
                    <p>Cash out earnings</p>
                </div>
                <div class="action-card" onclick="showReferral()">
                    <div class="action-icon">
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <h3>Referral</h3>
                    <p>Earn 2% commission</p>
                </div>
                <div class="action-card" onclick="showAIBot()">
                    <div class="action-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI Bot</h3>
                    <p>Automated trading</p>
                </div>
                <div class="action-card" onclick="showChartAnalysis()">
                    <div class="action-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Charts</h3>
                    <p>Market analysis</p>
                </div>
            </div>
        </div>
    </section>

    <section id="adminPanel" class="page" style="display: none;">
        <div class="container">
            <h1><i class="fas fa-cogs"></i> Admin Panel</h1>
            <div class="admin-panel">
                <h2><i class="fas fa-dollar-sign"></i> Manage Deposits & Withdrawals</h2>
                <div class="admin-form">
                    <input type="text" id="adminUID" class="form-control" placeholder="Enter User UID">
                    <input type="number" id="adminAmount" class="form-control" placeholder="Amount ($)" step="0.01">
                    <select id="adminType" class="form-control">
                        <option value="deposit">Add Deposit</option>
                        <option value="withdrawal">Process Withdrawal</option>
                    </select>
                    <button class="btn btn-primary" onclick="adminProcessTransaction()"><i class="fas fa-check"></i> Process</button>
                </div>
                <div class="admin-users">
                    <h3><i class="fas fa-users"></i> Users List</h3>
                    <div id="adminUsersList"></div>
                </div>
                <div class="admin-ai-control">
                    <h3><i class="fas fa-robot"></i> AI Bot Control</h3>
                    <select id="aiGlobalControl" class="form-control" style="margin-bottom: 15px;">
                        <option value="start">Start AI for User</option>
                        <option value="stop">Stop AI for User</option>
                        <option value="view">View User AI Stats</option>
                    </select>
                    <input type="text" id="aiUserUID" class="form-control" placeholder="Enter UID for AI Control" style="margin-bottom: 15px;">
                    <button class="btn btn-primary" onclick="adminControlAI()"><i class="fas fa-cogs"></i> Control AI</button>
                    <div id="aiUserStats" style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px; display: none;">
                        <!-- AI stats for selected user -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="plans" class="page">
        <div class="container">
            <h1 style="text-align: center; margin-bottom: 15px; font-size: 36px;"><i class="fas fa-coins"></i> Investment Plans</h1>
            <p style="text-align: center; color: var(--gray); margin-bottom: 50px; font-size: 18px;">Choose the perfect staking plan for your goals. Earn daily interest automatically on investments.</p>
            <div class="plans-grid">
                <div class="plan-card">
                    <div class="plan-header">
                        <div class="plan-name">BASIC</div>
                        <div class="plan-amount">$10 - $49</div>
                        <div class="plan-daily">0.1% Daily / 3% Monthly</div>
                    </div>
                    <ul class="plan-features">
                        <li>3% Monthly Returns</li>
                        <li>24/7 Auto Staking</li>
                        <li>Basic Support</li>
                        <li>Instant Activation</li>
                    </ul>
                    <button class="btn btn-primary" style="width: 100%;" onclick="investInPlan('basic', 0.001, 3)"><i class="fas fa-play"></i> Invest Now</button>
                    <div style="text-align: center; margin-top: 20px; font-size: 14px; color: var(--gray);">
                        <div>Lock Period: 30 Days | Early Withdraw: No</div>
                    </div>
                </div>
                <div class="plan-card popular">
                    <div class="plan-header">
                        <div class="plan-name">STANDARD</div>
                        <div class="plan-amount">$50 - $99</div>
                        <div class="plan-daily">0.2% Daily / 6% Monthly</div>
                    </div>
                    <ul class="plan-features">
                        <li>6% Monthly Returns</li>
                        <li>24/7 Auto Staking</li>
                        <li>Priority Support</li>
                        <li>Instant Activation</li>
                        <li>2% Referral Bonus</li>
                    </ul>
                    <button class="btn btn-success" style="width: 100%;" onclick="investInPlan('standard', 0.002, 6)"><i class="fas fa-play"></i> Invest Now</button>
                    <div style="text-align: center; margin-top: 20px; font-size: 14px; color: var(--gray);">
                        <div>Lock Period: 60 Days | Early Withdraw: Yes (1% fee)</div>
                    </div>
                </div>
                <div class="plan-card">
                    <div class="plan-header">
                        <div class="plan-name">PROFESSIONAL</div>
                        <div class="plan-amount">$100 - $999</div>
                        <div class="plan-daily">0.35% Daily / 10.5% Monthly</div>
                    </div>
                    <ul class="plan-features">
                        <li>10.5% Monthly Returns</li>
                        <li>24/7 Auto Staking</li>
                        <li>VIP Support</li>
                        <li>Instant Activation</li>
                        <li>3% Referral Bonus</li>
                        <li>Profit Booster +1%</li>
                    </ul>
                    <button class="btn btn-primary" style="width: 100%;" onclick="investInPlan('professional', 0.0035, 10.5)"><i class="fas fa-play"></i> Invest Now</button>
                    <div style="text-align: center; margin-top: 20px; font-size: 14px; color: var(--gray);">
                        <div>Lock Period: 90 Days | Early Withdraw: Yes (0.5% fee)</div>
                    </div>
                </div>
                <div class="plan-card">
                    <div class="plan-header">
                        <div class="plan-name">ENTERPRISE</div>
                        <div class="plan-amount">$1000 - $50000</div>
                        <div class="plan-daily">0.5% Daily / 15% Monthly</div>
                    </div>
                    <ul class="plan-features">
                        <li>15% Monthly Returns</li>
                        <li>24/7 Auto Staking</li>
                        <li>Dedicated Manager</li>
                        <li>Instant Activation</li>
                        <li>5% Referral Bonus</li>
                        <li>Profit Booster +2%</li>
                        <li>Early Payout Option</li>
                    </ul>
                    <button class="btn btn-primary" style="width: 100%;" onclick="investInPlan('enterprise', 0.005, 15)"><i class="fas fa-play"></i> Invest Now</button>
                    <div style="text-align: center; margin-top: 20px; font-size: 14px; color: var(--gray);">
                        <div>Lock Period: 180 Days | Early Withdraw: Yes (Free)</div>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 50px; color: var(--gray); font-size: 14px;">
                <p><strong>Note:</strong> All plans auto-compound daily interest. Withdraw anytime after lock period.</p>
            </div>
        </div>
    </section>

    <!-- Modals for Additional Features -->
    <div class="modal" id="investModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="investModalTitle">Invest in Plan</h2>
                <button class="close-modal" onclick="closeModal('investModal')">&times;</button>
            </div>
            <div class="form-group">
                <label for="investAmount"><i class="fas fa-dollar-sign"></i> Investment Amount ($)</label>
                <input type="number" id="investAmount" class="form-control" placeholder="Enter amount" min="10" required>
            </div>
            <button class="btn btn-primary" style="width: 100%;" onclick="confirmInvestment()"><i class="fas fa-check"></i> Confirm Investment</button>
            <p style="text-align: center; margin-top: 15px; color: var(--gray); font-size: 14px;" id="investNote">Your investment will start earning immediately!</p>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3><i class="fas fa-cube"></i> Captain Mining</h3>
                    <p>The future of smart crypto mining and AI trading. Earn stable returns with our secure, AI-powered platform. Trusted by 50K+ users worldwide.</p>
                    <div class="social-links">
                        <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://t.me/+_4xwakMXjOdiMTg9" title="Telegram" target="_blank"><i class="fab fa-telegram-plane"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3><i class="fas fa-link"></i> Quick Links</h3>
                    <ul>
                        <li><a href="#" onclick="showPage('home')"><i class="fas fa-home"></i> Home</a></li>
                        <li><a href="#" onclick="showPage('plans')"><i class="fas fa-list"></i> Plans</a></li>
                        <li><a href="#" onclick="showPage('about')"><i class="fas fa-info"></i> About</a></li>
                        <li><a href="#" onclick="showPage('contact')"><i class="fas fa-envelope"></i> Contact</a></li>
                        <li><a href="#" onclick="showReferral()"><i class="fas fa-share"></i> Referral</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3><i class="fas fa-cogs"></i> Services</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-cloud"></i> Cloud Mining</a></li>
                        <li><a href="#"><i class="fas fa-lock"></i> Staking</a></li>
                        <li><a href="#" onclick="showAIBot()"><i class="fas fa-robot"></i> AI Trading</a></li>
                        <li><a href="#"><i class="fas fa-wallet"></i> Wallet</a></li>
                        <li><a href="#" onclick="showReferral()"><i class="fas fa-users"></i> Referral Program</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3><i class="fas fa-headset"></i> Support</h3>
                    <ul>
                        <li><a href="#" onclick="showSupport()"><i class="fab fa-whatsapp"></i> Help Center</a></li>
                        <li><a href="https://wa.me/message/Q4BLFPHK2VU7H1" target="_blank"><i class="fas fa-chat"></i> Contact Us</a></li>
                        <li><a href="#"><i class="fas fa-file-alt"></i> Withdrawal Guide</a></li>
                        <li><a href="#"><i class="fas fa-server"></i> Status</a></li>
                        <li><a href="#" onclick="showCommunity()"><i class="fab fa-telegram"></i> Community</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Captain Mining. All rights reserved. | Mining the Future, Rewarding the Present. | <a href="#" style="color: var(--gray);">Privacy Policy</a> | <a href="#" style="color: var(--gray);">Terms of Service</a></p>
            </div>
        </div>
    </footer>

    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // Global Variables
        let currentUser = null;
        let adminLoggedIn = false;
        let dailyInterestInterval = null;
        let aiTradingSystem = null;
        let chartAnalysis = null;
        let users = JSON.parse(localStorage.getItem('users') || '[]');

        // Page Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if (pageId === 'dashboard' && currentUser) {
                updateDashboard();
            }
            if (pageId === 'plans' && currentUser) {
                loadPlans();
            }
            closeModalAll();
        }

        function showAuthTab(tab) {
            if (tab === 'signup') {
                showPage('signup');
                document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                document.querySelector('#signup .auth-tab:first-child').classList.add('active');
            } else {
                showPage('login');
                document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                document.querySelector('#login .auth-tab:last-child').classList.add('active');
            }
        }

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const icon = input.nextElementSibling.querySelector('i');
            input.type = input.type === 'password' ? 'text' : 'password';
            icon.classList.toggle('fa-eye');
            icon.classList.toggle('fa-eye-slash');
        }

        function closeModalAll() {
            document.querySelectorAll('.modal').forEach(modal => modal.classList.remove('active'));
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // User Management
        function generateUID() {
            return 'UID' + Date.now() + Math.floor(Math.random() * 1000);
        }

        function signup(e) {
            e.preventDefault();
            const referralCode = document.getElementById('referralCode').value.trim();
            const username = document.getElementById('signupUsername').value.trim();
            const email = document.getElementById('signupEmail').value.trim();
            const phone = document.getElementById('signupPhone').value.trim();
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }

            if (users.find(u => u.username === username || u.email === email)) {
                alert('Username or email already exists!');
                return;
            }

            const uid = generateUID();
            const user = {
                uid,
                username,
                email,
                phone,
                password,
                balance: 0,
                activeInvestment: 0,
                totalProfit: 0,
                registrationDate: new Date().toISOString(),
                lastSeen: new Date().toISOString(),
                referralCode: uid.substring(3), // Short code
                referrals: [],
                referralEarnings: 0,
                investments: [],
                deposits: [],
                withdrawals: [],
                aiPositions: [],
                aiPerformance: { totalTrades: 0, winningTrades: 0, totalProfit: 0 }
            };

            // Handle referral
            if (referralCode) {
                const referrer = users.find(u => u.referralCode === referralCode);
                if (referrer) {
                    referrer.referrals.push(uid);
                    // Initial bonus to referrer if first deposit, but add later
                    saveUsers();
                }
            }

            users.push(user);
            saveUsers();
            localStorage.setItem('currentUser', JSON.stringify(user));
            alert('Account created successfully! Welcome to Captain Mining. Please log in.');
            showAuthTab('login');
        }

        function login(e) {
            e.preventDefault();
            const loginInput = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            const user = users.find(u => (u.username === loginInput || u.email === loginInput) && u.password === password);

            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                document.getElementById('authButtons').style.display = 'none';
                document.getElementById('userInfo').style.display = 'flex';
                document.getElementById('userAvatar').textContent = user.username.charAt(0).toUpperCase();
                document.getElementById('userName').textContent = user.username;
                document.getElementById('dashboardAvatar').textContent = user.username.charAt(0).toUpperCase();
                document.getElementById('dashboardName').textContent = user.username;
                document.getElementById('dashboardEmail').textContent = user.email;
                user.lastSeen = new Date().toISOString();
                saveUsers();
                showPage('dashboard');
                startDailyInterest();
                updateDashboard();
                loadUserAI();
            } else {
                alert('Invalid credentials! Please check and try again.');
            }
        }

        function adminLogin(e) {
            e.preventDefault();
            const adminUsername = document.getElementById('adminUsername').value;
            const adminPassword = document.getElementById('adminPassword').value;
            if (adminUsername === 'admin' && adminPassword === 'admin123') {
                adminLoggedIn = true;
                showPage('adminPanel');
                loadAdminUsers();
            } else {
                alert('Invalid admin credentials!');
            }
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                currentUser = null;
                adminLoggedIn = false;
                document.getElementById('authButtons').style.display = 'flex';
                document.getElementById('userInfo').style.display = 'none';
                showPage('home');
                if (dailyInterestInterval) clearInterval(dailyInterestInterval);
                if (aiTradingSystem) aiTradingSystem.stopTrading();
            }
        }

        // Storage Helpers
        function saveUsers() {
            localStorage.setItem('users', JSON.stringify(users));
            if (currentUser) localStorage.setItem('currentUser', JSON.stringify(currentUser));
        }

        function getUserByUID(uid) {
            return users.find(u => u.uid === uid);
        }

        // Dashboard Update
        function updateDashboard() {
            if (!currentUser) return;
            document.getElementById('totalBalanceDash').textContent = `$${currentUser.balance.toFixed(2)}`;
            document.getElementById('activeInvestment').textContent = `$${currentUser.activeInvestment.toFixed(2)}`;
            document.getElementById('totalProfitDash').textContent = `$${currentUser.totalProfit.toFixed(2)}`;
            document.getElementById('dailyEarnings').textContent = `$${(currentUser.activeInvestment * 0.001).toFixed(2)}`;
            document.getElementById('profileUsername').textContent = currentUser.username;
            document.getElementById('profileEmail').textContent = currentUser.email;
            document.getElementById('profilePhone').textContent = currentUser.phone;
            document.getElementById('profileUID').textContent = currentUser.uid;
            document.getElementById('profileRegDate').textContent = new Date(currentUser.registrationDate).toLocaleDateString();
            document.getElementById('profileLastSeen').textContent = new Date(currentUser.lastSeen).toLocaleString();
            document.getElementById('profileBalance').textContent = `$${currentUser.balance.toFixed(2)}`;
            document.getElementById('userReferralCode').textContent = currentUser.referralCode;
            document.getElementById('referralLink').value = `${window.location.origin}?ref=${currentUser.referralCode}`;
            document.getElementById('referralEarnings').textContent = currentUser.referralEarnings.toFixed(2);
            updateHistory();
            updateAIBotInvestment();
        }

        function updateHistory() {
            const depositsHTML = currentUser.deposits.map(d => `
                <div class="history-item">
                    <i class="fas fa-plus-circle" style="color: var(--success); margin-right: 10px;"></i>
                    Deposit: $${d.amount.toFixed(2)} on ${new Date(d.date).toLocaleDateString()} | Status: <span style="color: var(--success);">Confirmed</span>
                </div>
            `).join('') || '<div class="history-item" style="text-align: center; color: var(--gray);">No deposits yet.</div>';
            document.getElementById('depositHistory').innerHTML = depositsHTML;

            const withdrawalsHTML = currentUser.withdrawals.map(w => `
                <div class="history-item">
                    <i class="fas fa-minus-circle" style="color: var(--danger); margin-right: 10px;"></i>
                    Withdrawal: $${w.amount.toFixed(2)} on ${new Date(w.date).toLocaleDateString()} | Status: <span style="color: ${w.status === 'pending' ? 'var(--warning)' : 'var(--success)'}">${w.status || 'Processed'}</span>
                </div>
            `).join('') || '<div class="history-item" style="text-align: center; color: var(--gray);">No withdrawals yet.</div>';
            document.getElementById('withdrawalHistory').innerHTML = withdrawalsHTML;
        }

        // Menu Functions
        function toggleMenu() {
            document.getElementById('menuDropdown').classList.toggle('active');
        }

        function showProfile() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('profileSection').style.display = 'block';
            toggleMenu();
            updateDashboard();
        }

        function showDeposit() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('depositSection').style.display = 'block';
            showCurrencyTab('inr');
            toggleMenu();
        }

        function showWithdrawal() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('withdrawalSection').style.display = 'block';
            showWithdrawalTab('inr');
            toggleMenu();
        }

        function showHistory() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('historySection').style.display = 'block';
            updateHistory();
            toggleMenu();
        }

        function showReferral() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('referralSection').style.display = 'block';
            updateDashboard();
            toggleMenu();
        }

        function showCommunity() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('communitySection').style.display = 'block';
            toggleMenu();
        }

        function showSupport() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('supportSection').style.display = 'block';
            toggleMenu();
        }

        function showAIBot() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('aiBotSection').style.display = 'block';
            document.getElementById('aiUserName').textContent = currentUser.username;
            initAITradingSystem();
            toggleMenu();
        }

        function showChartAnalysis() {
            document.querySelectorAll('#dashboard > div:not(.stats-grid):not(.actions-grid)').forEach(div => div.style.display = 'none');
            document.getElementById('chartAnalysisSection').style.display = 'block';
            initChartSystem();
            toggleMenu();
        }

        // Deposit/Withdrawal Functions
        function showCurrencyTab(currency) {
            document.querySelectorAll('.currency-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('#depositSection .payment-method').forEach(method => method.classList.remove('active'));
            document.getElementById(currency + 'Deposit').classList.add('active');
        }

        function showWithdrawalTab(type) {
            document.querySelectorAll('.withdrawal-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('#withdrawalSection .payment-method').forEach(method => method.classList.remove('active'));
            document.getElementById(type + 'Withdrawal').classList.add('active');
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                btn.style.background = var(--success);
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => alert('Copy failed: ' + err));
        }

        function confirmINRDeposit() {
            const amount = document.getElementById('inrAmount').value;
            if (!amount || amount < 800) {
                alert('Minimum INR 800');
                return;
            }
            const message = `New Deposit Request - Captain Mining\n\nUID: ${currentUser.uid}\nUsername: ${currentUser.username}\nEmail: ${currentUser.email}\nPhone: ${currentUser.phone}\n\nAmount: â‚¹${amount} (INR)\nPayment Method: UPI to millnerkaptan01@fam\n\nPlease confirm and credit the account.`;
            window.open(`https://wa.me/message/Q4BLFPHK2VU7H1?text=${encodeURIComponent(message)}`, '_blank');
            alert('Details sent to support. They will credit your account soon.');
        }

        function confirmUSDTDeposit() {
            const amount = document.getElementById('usdtAmount').value;
            if (!amount || amount < 10) {
                alert('Minimum 10 USDT');
                return;
            }
            const message = `New Deposit Request - Captain Mining\n\nUID: ${currentUser.uid}\nUsername: ${currentUser.username}\nEmail: ${currentUser.email}\nPhone: ${currentUser.phone}\n\nAmount: $${amount} (USDT)\nNetwork: TRC20 or BEP20\n\nPlease send transaction screenshot/hash for verification.`;
            window.open(`https://wa.me/message/Q4BLFPHK2VU7H1?text=${encodeURIComponent(message)}`, '_blank');
            alert('Details sent to support. Upload screenshot in chat for credit.');
        }

        function requestINRWithdrawal() {
            const details = {
                bankName: document.getElementById('bankName').value.trim(),
                accountHolder: document.getElementById('accountHolder').value.trim(),
                accountNumber: document.getElementById('accountNumber').value.trim(),
                ifscCode: document.getElementById('ifscCode').value.trim(),
                amount: document.getElementById('withdrawalAmount').value
            };
            if (!Object.values(details).every(v => v)) {
                alert('Please fill all fields');
                return;
            }
            if (details.amount < 800) {
                alert('Minimum INR 800');
                return;
            }
            if (currentUser.balance < details.amount / 83) { // Approx USD conversion
                alert('Insufficient balance');
                return;
            }
            const message = `Withdrawal Request - Captain Mining\n\nUID: ${currentUser.uid}\nUsername: ${currentUser.username}\nEmail: ${currentUser.email}\nPhone: ${currentUser.phone}\n\nBank Name: ${details.bankName}\nAccount Holder: ${details.accountHolder}\nAccount Number: ${details.accountNumber}\nIFSC Code: ${details.ifscCode}\nAmount: â‚¹${details.amount} (INR)\n\nPlease process the withdrawal.`;
            window.open(`https://wa.me/message/Q4BLFPHK2VU7H1?text=${encodeURIComponent(message)}`, '_blank');
            alert('Request sent to support. They will process within 24-48 hours.');
            // Simulate pending
            currentUser.withdrawals.push({ ...details, date: new Date().toISOString(), status: 'pending' });
            saveUsers();
            updateHistory();
        }

        function requestUSDTWithdrawal() {
            const address = document.getElementById('usdtAddress').value.trim();
            const amount = document.getElementById('usdtWithdrawAmount').value;
            if (!address || !amount) {
                alert('Please fill all fields');
                return;
            }
            if (amount < 10) {
                alert('Minimum 10 USDT');
                return;
            }
            if (currentUser.balance < amount) {
                alert('Insufficient balance');
                return;
            }
            const message = `Withdrawal Request - Captain Mining\n\nUID: ${currentUser.uid}\nUsername: ${currentUser.username}\nEmail: ${currentUser.email}\nPhone: ${currentUser.phone}\n\nUSDT Address: ${address}\nAmount: $${amount}\nNetwork: TRC20/BEP20\n\nPlease process the withdrawal.`;
            window.open(`https://wa.me/message/Q4BLFPHK2VU7H1?text=${encodeURIComponent(message)}`, '_blank');
            alert('Request sent to support. Processed within 24 hours.');
            currentUser.withdrawals.push({ address, amount: parseFloat(amount), date: new Date().toISOString(), status: 'pending' });
            saveUsers();
            updateHistory();
        }

        // Investment in Plans
        function investInPlan(plan, dailyRate, monthlyRate) {
            if (!currentUser) {
                alert('Please login first');
                showPage('login');
                return;
            }
            document.getElementById('investModalTitle').textContent = `Invest in ${plan.toUpperCase()} Plan`;
            document.getElementById('investNote').innerHTML = `Daily Interest: ${dailyRate * 100}%<br>Monthly: ${monthlyRate}% - Lock: 30-180 days`;
            document.getElementById('investModal').classList.add('active');
            // Set global var for plan
            window.currentPlan = { plan, dailyRate, monthlyRate };
        }

        function confirmInvestment() {
            const amount = parseFloat(document.getElementById('investAmount').value);
            if (!amount || amount < 10 || amount > currentUser.balance) {
                alert('Invalid amount or insufficient balance');
                return;
            }
            const plan = window.currentPlan;
            currentUser.balance -= amount;
            currentUser.activeInvestment += amount;
            currentUser.investments.push({
                plan: plan.plan,
                amount,
                dailyRate: plan.dailyRate,
                monthlyRate: plan.monthlyRate,
                startDate: new Date().toISOString(),
                status: 'active'
            });
            currentUser.totalProfit += amount * plan.dailyRate; // Initial interest
            saveUsers();
            updateDashboard();
            closeModal('investModal');
            alert(`Successfully invested $${amount} in ${plan.plan} plan! Daily interest of $${(amount * plan.dailyRate).toFixed(2)} will be added automatically.`);
            // Update AI investment if linked
            updateAIBotInvestment(amount);
        }

        // Daily Interest Staking
        function startDailyInterest() {
            if (dailyInterestInterval) clearInterval(dailyInterestInterval);
            dailyInterestInterval = setInterval(() => {
                if (currentUser && currentUser.activeInvestment > 0) {
                    let daily = 0;
                    currentUser.investments.forEach(inv => {
                        if (inv.status === 'active') {
                            const daysElapsed = (new Date() - new Date(inv.startDate)) / (1000 * 60 * 60 * 24);
                            daily += inv.amount * inv.dailyRate * Math.min(daysElapsed, 30); // Cap per month
                        }
                    });
                    currentUser.balance += daily;
                    currentUser.totalProfit += daily;
                    saveUsers();
                    updateDashboard();
                }
            }, 86400000); // Every 24 hours
        }

        // Admin Functions
        function adminProcessTransaction() {
            const uid = document.getElementById('adminUID').value.trim();
            const amount = parseFloat(document.getElementById('adminAmount').value);
            const type = document.getElementById('adminType').value;
            const user = getUserByUID(uid);
            if (!user) {
                alert('User not found');
                return;
            }
            if (type === 'deposit') {
                user.balance += amount;
                user.deposits.push({ amount, date: new Date().toISOString(), status: 'confirmed' });
                // Referral bonus
                users.forEach(u => {
                    if (u.referrals.includes(uid)) {
                        u.referralEarnings += amount * 0.02;
                        u.balance += amount * 0.02;
                    }
                });
            } else {
                if (user.balance < amount) {
                    alert('Insufficient balance for withdrawal');
                    return;
                }
                user.balance -= amount;
                user.withdrawals.push({ amount, date: new Date().toISOString(), status: 'processed' });
            }
            saveUsers();
            alert(`${type.charAt(0).toUpperCase() + type.slice(1)} of $${amount} processed for ${uid}`);
            loadAdminUsers();
            if (currentUser && currentUser.uid === uid) updateDashboard();
        }

        function loadAdminUsers() {
            const list = document.getElementById('adminUsersList');
            list.innerHTML = users.map(u => `
                <div class="admin-user">
                    <div>
                        <strong>${u.username}</strong> (${u.uid})<br>
                        Balance: $${u.balance.toFixed(2)} | Investment: $${u.activeInvestment.toFixed(2)}<br>
                        Referrals: ${u.referrals.length} | Earnings: $${u.referralEarnings.toFixed(2)}
                    </div>
                    <div>
                        <button class="btn btn-primary" onclick="adminProcessForUser('${u.uid}')" style="margin-right: 10px;"><i class="fas fa-dollar-sign"></i> Manage</button>
                        <button class="btn btn-success" onclick="viewAIForUser('${u.uid}')"><i class="fas fa-robot"></i> AI Stats</button>
                    </div>
                </div>
            `).join('');
        }

        function adminProcessForUser(uid) {
            document.getElementById('adminUID').value = uid;
        }

        function adminControlAI() {
            const control = document.getElementById('aiGlobalControl').value;
            const uid = document.getElementById('aiUserUID').value.trim();
            const user = getUserByUID(uid);
            if (!user) {
                alert('User not found');
                return;
            }
            if (control === 'start') {
                user.aiPerformance.isActive = true;
            } else if (control === 'stop') {
                user.aiPerformance.isActive = false;
            } else if (control === 'view') {
                showAIUserStats(user);
            }
            saveUsers();
            alert(`AI ${control}ed for ${uid}`);
        }

        function viewAIForUser(uid) {
            const user = getUserByUID(uid);
            if (user) showAIUserStats(user);
        }

        function showAIUserStats(user) {
            document.getElementById('aiUserStats').innerHTML = `
                <h4>AI Stats for ${user.username} (${user.uid})</h4>
                <p>Total Trades: ${user.aiPerformance.totalTrades}</p>
                <p>Winning Trades: ${user.aiPerformance.winningTrades}</p>
                <p>Win Rate: ${user.aiPerformance.totalTrades > 0 ? ((user.aiPerformance.winningTrades / user.aiPerformance.totalTrades * 100).toFixed(1) + '%') : '0%'}</p>
                <p>AI Profit: $${user.aiPerformance.totalProfit.toFixed(2)}</p>
                <p>Active Positions: ${user.aiPositions.filter(p => p.status === 'ACTIVE').length}</p>
            `;
            document.getElementById('aiUserStats').style.display = 'block';
        }

        // Referral Bonus on Deposit
        function addReferralBonus(depositorUID, amount) {
            users.forEach(u => {
                if (u.referrals.includes(depositorUID)) {
                    const bonus = amount * 0.02;
                    u.referralEarnings += bonus;
                    u.balance += bonus;
                    alert(`Referral bonus $${bonus.toFixed(2)} added to ${u.username}`); // For demo
                }
            });
            saveUsers();
        }

        // AI Bot System
        function initAITradingSystem() {
            if (aiTradingSystem) return;
            aiTradingSystem = {
                isTrading: currentUser.aiPerformance.isActive || false,
                positions: currentUser.aiPositions || [],
                performance: currentUser.aiPerformance || { totalTrades: 0, winningTrades: 0, totalProfit: 0 },
                init: function() {
                    this.loadSymbols();
                    this.setupListeners();
                    this.updateAll();
                    if (this.isTrading) this.startInterval();
                },
                loadSymbols: function() {
                    const symbols = [
                        { symbol: 'BINANCE:BTCUSDT', name: 'BTC/USDT' },
                        { symbol: 'BINANCE:ETHUSDT', name: 'ETH/USDT' },
                        { symbol: 'BINANCE:SOLUSDT', name: 'SOL/USDT' },
                        { symbol: 'BINANCE:BNBUSDT', name: 'BNB/USDT' },
                        { symbol: 'BINANCE:XRPUSDT', name: 'XRP/USDT' }
                    ];
                    document.getElementById('aiSymbolSelector').innerHTML = symbols.map(s => `
                        <button class="symbol-btn ${s.symbol === 'BINANCE:BTCUSDT' ? 'active' : ''}" onclick="aiTradingSystem.switchSymbol('${s.symbol}')">${s.name}</button>
                    `).join('');
                    new TradingView.widget({
                        container_id: "ai_tradingview_chart",
                        width: "100%",
                        height: "100%",
                        symbol: "BINANCE:BTCUSDT",
                        interval: "1H",
                        timezone: "Asia/Kolkata",
                        theme: "dark",
                        style: "1",
                        locale: "in",
                        enable_publishing: false,
                        allow_symbol_change: true,
                        studies: ["RSI@tv-basicstudies", "MACD@tv-basicstudies"]
                    });
                },
                setupListeners: function() {
                    document.getElementById('tradeAmount').addEventListener('input', e => document.getElementById('tradeAmountValue').textContent = e.target.value);
                    document.getElementById('riskTolerance').addEventListener('input', e => document.getElementById('riskToleranceValue').textContent = e.target.value);
                    document.getElementById('aiMode').addEventListener('change', () => this.updateStatus());
                },
                switchSymbol: function(symbol) {
                    // Simulate symbol change
                    this.updateSignals();
                },
                startInterval: function() {
                    setInterval(() => {
                        if (this.isTrading) this.generateSignal();
                    }, 5000);
                },
                generateSignal: function() {
                    const symbols = ['BTC', 'ETH', 'SOL'];
                    symbols.forEach(s => {
                        if (Math.random() > 0.6) {
                            const action = Math.random() > 0.5 ? 'BUY' : 'SELL';
                            this.addPosition(s, action);
                        }
                    });
                },
                addPosition: function(symbol, action) {
                    const amount = parseInt(document.getElementById('tradeAmount').value);
                    const pos = {
                        id: Date.now(),
                        symbol,
                        action,
                        amount,
                        entryPrice: Math.random() * 10000 + 50000,
                        timestamp: new Date().toLocaleTimeString(),
                        status: 'ACTIVE'
                    };
                    this.positions.push(pos);
                    this.performance.totalTrades++;
                    currentUser.aiPositions = this.positions;
                    setTimeout(() => this.closePosition(pos), 10000 + Math.random() * 20000);
                    this.updateAll();
                    saveUsers();
                },
                closePosition: function(pos) {
                    const profit = (Math.random() - 0.5) * pos.amount * 2;
                    pos.profit = profit;
                    pos.status = 'CLOSED';
                    this.performance.totalProfit += profit;
                    if (profit > 0) this.performance.winningTrades++;
                    currentUser.aiPerformance = this.performance;
                    saveUsers();
                    this.updateAll();
                },
                updateAll: function() {
                    this.updateStatus();
                    this.updateSignals();
                    this.updatePositions();
                    this.updatePerformance();
                    updateAIBotInvestment();
                },
                updateStatus: function() {
                    const mode = document.getElementById('aiMode').value;
                    document.getElementById('aiStatus').textContent = this.isTrading ? `Active - ${mode.charAt(0).toUpperCase() + mode.slice(1)} Mode` : 'Ready to Start';
                    document.getElementById('startBtn').style.display = this.isTrading ? 'none' : 'block';
                    document.getElementById('stopBtn').style.display = this.isTrading ? 'block' : 'none';
                },
                updateSignals: function() {
                    const signals = [
                        { symbol: 'BTC', action: 'BUY', confidence: 85 + Math.random()*15, price: (60000 + Math.random()*1000).toFixed(0), change: '+' + (Math.random()*5).toFixed(1) + '%' },
                        { symbol: 'ETH', action: 'SELL', confidence: 75 + Math.random()*10, price: (3000 + Math.random()*200).toFixed(0), change: '-' + (Math.random()*3).toFixed(1) + '%' },
                        { symbol: 'SOL', action: 'HOLD', confidence: 80 + Math.random()*10, price: (150 + Math.random()*20).toFixed(2), change: '+' + (Math.random()*2).toFixed(1) + '%' }
                    ];
                    document.getElementById('signalGrid').innerHTML = signals.map(sig => {
                        const cls = sig.action.toLowerCase();
                        const icon = sig.action === 'BUY' ? 'ðŸ“ˆ' : sig.action === 'SELL' ? 'ðŸ“‰' : 'âš–ï¸';
                        const changeColor = sig.change.startsWith('+') ? '#00ff88' : '#ff4444';
                        return `
                            <div class="signal-card signal-${cls}">
                                <div class="signal-icon">${icon}</div>
                                <h4>${sig.symbol}</h4>
                                <div style="font-size: 1.6rem; font-weight: 800; margin: 15px 0; color: ${cls === 'buy' ? '#00ff88' : cls === 'sell' ? '#ff4444' : '#ffaa00'};">${sig.action}</div>
                                <div>Confidence: ${sig.confidence.toFixed(0)}%</div>
                                <div>Price: $${sig.price}</div>
                                <div>24h Change: <span style="color: ${changeColor};">${sig.change}</span></div>
                            </div>
                        `;
                    }).join('');
                },
                updatePositions: function() {
                    const active = this.positions.filter(p => p.status === 'ACTIVE').length;
                    document.getElementById('activeTrades').textContent = active;
                    document.getElementById('positionsContainer').innerHTML = this.positions.map(p => {
                        const profitCls = p.profit >= 0 ? 'profit-positive' : 'profit-negative';
                        const profitText = p.status === 'ACTIVE' ? 'Active' : `$${p.profit.toFixed(2)}`;
                        return `
                            <div class="position-item">
                                <div>
                                    <strong>${p.symbol} - ${p.action}</strong><br>
                                    <small>$${p.amount} | ${p.timestamp} | Leverage: 1x</small>
                                </div>
                                <div class="${profitCls}">${profitText}</div>
                            </div>
                        `;
                    }).join('') || '<div style="text-align: center; padding: 30px; color: var(--gray);">No positions. Start trading!</div>';
                },
                updatePerformance: function() {
                    const winRate = this.performance.totalTrades > 0 ? (this.performance.winningTrades / this.performance.totalTrades * 100).toFixed(1) : 0;
                    document.getElementById('totalProfit').textContent = `$${this.performance.totalProfit.toFixed(2)}`;
                    document.getElementById('winRate').textContent = `${winRate}%`;
                    document.getElementById('totalTrades').textContent = this.performance.totalTrades;
                    currentUser.aiPerformance = this.performance;
                    saveUsers();
                },
                invest: function(amount) {
                    if (amount > currentUser.balance) {
                        alert('Insufficient balance');
                        return;
                    }
                    currentUser.balance -= amount;
                    document.getElementById('aiInvestment').textContent = (parseFloat(document.getElementById('aiInvestment').textContent) + amount).toFixed(2);
                    this.balance += amount;
                    alert(`$${amount} invested in AI Bot. Automated trading started!`);
                    saveUsers();
                    updateDashboard();
                }
            };
            aiTradingSystem.init();
            document.getElementById('startBtn').onclick = () => {
                aiTradingSystem.isTrading = true;
                aiTradingSystem.startInterval();
                currentUser.aiPerformance.isActive = true;
                aiTradingSystem.updateAll();
                saveUsers();
            };
            document.getElementById('stopBtn').onclick = () => {
                aiTradingSystem.isTrading = false;
                if (aiTradingSystem.tradingInterval) clearInterval(aiTradingSystem.tradingInterval);
                currentUser.aiPerformance.isActive = false;
                aiTradingSystem.updateAll();
                saveUsers();
            };
        }

        function investInBot() {
            const amount = prompt('Enter investment amount for AI Bot ($ min 50):', 100);
            if (amount && amount >= 50 && amount <= currentUser.balance) {
                aiTradingSystem.invest(parseFloat(amount));
            } else {
                alert('Invalid amount or insufficient balance');
            }
        }

        function updateAIBotInvestment(add = 0) {
            if (currentUser) {
                const totalAI = currentUser.aiPositions.reduce((sum, p) => sum + p.amount, 0) + add;
                document.getElementById('aiInvestment').textContent = totalAI.toFixed(2);
            }
        }

        function loadUserAI() {
            if (currentUser.aiPerformance) {
                // Load saved performance
            }
        }

        // Chart Analysis
        function initChartSystem() {
            if (chartAnalysis) return;
            chartAnalysis = {
                currentSymbol: 'BINANCE:BTCUSDT',
                currentTimeframe: '1H',
                cryptoPrices: {},
                init: async function() {
                    await this.loadPrices();
                    this.initChart();
                    this.setupSelectors();
                    setInterval(() => this.updatePortfolio(), 10000);
                },
                loadPrices: async function() {
                    try {
                        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana,binancecoin,dogecoin,ripple,cardano,polkadot&vs_currencies=usd&include_24hr_change=true');
                        this.cryptoPrices = await response.json();
                        this.displayPrices();
                    } catch (e) {
                        console.error('Price load error:', e);
                    }
                },
                displayPrices: function() {
                    const cryptos = [
                        { id: 'bitcoin', symbol: 'BTC', name: 'Bitcoin' },
                        { id: 'ethereum', symbol: 'ETH', name: 'Ethereum' },
                        { id: 'solana', symbol: 'SOL', name: 'Solana' },
                        { id: 'binancecoin', symbol: 'BNB', name: 'Binance Coin' },
                        { id: 'dogecoin', symbol: 'DOGE', name: 'Dogecoin' },
                        { id: 'ripple', symbol: 'XRP', name: 'XRP' },
                        { id: 'cardano', symbol: 'ADA', name: 'Cardano' },
                        { id: 'polkadot', symbol: 'DOT', name: 'Polkadot' }
                    ];
                    document.getElementById('cryptoGrid').innerHTML = cryptos.map(crypto => {
                        const p = this.cryptoPrices[crypto.id];
                        if (!p) return '';
                        const price = p.usd;
                        const change = p.usd_24h_change;
                        const changeColor = change >= 0 ? 'price-up' : 'price-down';
                        return `
                            <div class="crypto-card" onclick="chartAnalysis.setSymbol('BINANCE:${crypto.symbol}USDT')">
                                <div class="crypto-symbol">${crypto.symbol}</div>
                                <div class="crypto-name">${crypto.name}</div>
                                <div class="crypto-price ${changeColor}">$${price.toLocaleString()}</div>
                                <div class="crypto-change ${changeColor}">${change >= 0 ? 'â†—' : 'â†˜'} ${Math.abs(change).toFixed(2)}%</div>
                            </div>
                        `;
                    }).join('');
                },
                initChart: function() {
                    new TradingView.widget({
                        container_id: "tradingview_chart",
                        width: "100%",
                        height: "100%",
                        symbol: this.currentSymbol,
                        interval: this.currentTimeframe,
                        timezone: "Asia/Kolkata",
                        theme: "dark",
                        style: "1",
                        locale: "in",
                        enable_publishing: false,
                        allow_symbol_change: true,
                        studies: ["RSI@tv-basicstudies", "MACD@tv-basicstudies", "Volume@tv-basicstudies"]
                    });
                },
                setupSelectors: function() {
                    const symbols = [
                        { symbol: 'BINANCE:BTCUSDT', name: 'BTC/USDT' },
                        { symbol: 'BINANCE:ETHUSDT', name: 'ETH/USDT' },
                        { symbol: 'BINANCE:SOLUSDT', name: 'SOL/USDT' },
                        { symbol: 'BINANCE:BNBUSDT', name: 'BNB/USDT' },
                        { symbol: 'BINANCE:DOGEUSDT', name: 'DOGE/USDT' },
                        { symbol: 'BINANCE:XRPUSDT', name: 'XRP/USDT' },
                        { symbol: 'BINANCE:ADAUSDT', name: 'ADA/USDT' },
                        { symbol: 'BINANCE:DOTUSDT', name: 'DOT/USDT' }
                    ];
                    document.getElementById('symbolSelector').innerHTML = symbols.map(s => `
                        <button class="symbol-btn ${s.symbol === this.currentSymbol ? 'active' : ''}" onclick="chartAnalysis.setSymbol('${s.symbol}')">${s.name}</button>
                    `).join('');

                    const tfs = [
                        { value: '1', label: '1m' }, { value: '5', label: '5m' }, { value: '15', label: '15m' },
                        { value: '30', label: '30m' }, { value: '60', label: '1H' }, { value: '240', label: '4H' },
                        { value: '1D', label: '1D' }, { value: '1W', label: '1W' }
                    ];
                    document.getElementById('timeframeSelector').innerHTML = tfs.map(tf => `
                        <button class="timeframe-btn ${tf.value === this.currentTimeframe ? 'active' : ''}" onclick="chartAnalysis.setTimeframe('${tf.value}')">${tf.label}</button>
                    `).join('');
                },
                setSymbol: function(symbol) {
                    this.currentSymbol = symbol;
                    document.querySelectorAll('#symbolSelector .symbol-btn').forEach(btn => btn.classList.remove('active'));
                    event.target.classList.add('active');
                    this.reloadChart();
                },
                setTimeframe: function(tf) {
                    this.currentTimeframe = tf;
                    document.querySelectorAll('.timeframe-btn').forEach(btn => btn.classList.remove('active'));
                    event.target.classList.add('active');
                    this.reloadChart();
                },
                reloadChart: function() {
                    document.getElementById('tradingview_chart').innerHTML = '';
                    this.initChart();
                },
                updatePortfolio: function() {
                    const fluctuation = (Math.random() - 0.5) * 200;
                    const balance = 21683.55 + fluctuation;
                    document.getElementById('totalBalance').textContent = `$${balance.toFixed(2)}`;
                    const pnl = balance - 10000;
                    document.getElementById('totalPnL').textContent = `$${pnl >= 0 ? '+' : ''}${pnl.toFixed(2)}`;
                    document.getElementById('totalPnL').className = `portfolio-value ${pnl >= 0 ? 'price-up' : 'price-down'}`;
                }
            };
            chartAnalysis.init();
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                users = JSON.parse(localStorage.getItem('users') || '[]');
                document.getElementById('authButtons').style.display = 'none';
                document.getElementById('userInfo').style.display = 'flex';
                updateDashboard();
                showPage('dashboard');
                startDailyInterest();
            }
            document.getElementById('signupForm').addEventListener('submit', signup);
            document.getElementById('loginForm').addEventListener('submit', login);
            document.getElementById('adminForm').addEventListener('submit', adminLogin);
            // Referral from URL
            const urlParams = new URLSearchParams(window.location.search);
            const ref = urlParams.get('ref');
            if (ref && document.getElementById('referralCode')) {
                document.getElementById('referralCode').value = ref;
            }
        });

        // Profile Update (Demo)
        function updateProfile() {
            alert('Profile updated successfully! (Demo)');
        }

        // Plans Load (Demo)
        function loadPlans() {
            // Already loaded in HTML
        }

        // Global AI Functions
        function startAITrading() {
            if (aiTradingSystem) aiTradingSystem.startInterval();
        }

        function stopAITrading() {
            if (aiTradingSystem) {
                clearInterval(aiTradingSystem.tradingInterval);
                aiTradingSystem.isTrading = false;
                aiTradingSystem.updateAll();
            }
        }
    </script>
</body>
</html>
